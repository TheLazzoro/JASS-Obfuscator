//===========================================================================
// 
// 01.CrowÂ´s Bridge
// 
//   Warcraft III map script
//   Generated by the Warcraft III World Editor
//   Map Author: Herod
// 
//===========================================================================

//***************************************************************************
//*
//*  Global Variables
//*
//***************************************************************************

globals
    // User-defined
    group                   udg_SkeletonLeft           = null
    group                   udg_SkeletonRight          = null
    group                   udg_SkeletonSquad1         = null
    group                   udg_SkeletonArcherSquad1   = null
    group                   udg_Ghoul1                 = null
    integer                 udg_RNghoul                = 0
    group                   udg_ArcherGroup            = null
    group                   udg_LigthGroup             = null
    group                   udg_SkeletonArcherSquad2   = null
    group                   udg_SkeletonSquad2         = null
    group                   udg_Ghoul2                 = null
    boolean                 udg_BoleanAttack           = false
    group                   udg_PeasantsGroup          = null
    dialog                  udg_DialogLevel            = null
    button array            udg_ButtonLevel
    boolean array           udg_BoleanDifculty
    boolean                 udg_BoleanCinematic        = false
    integer                 udg_RandomNumberSound1     = 0
    integer                 udg_RandomNumberSound2     = 0
    real                    udg_FacinAngle             = 0
    quest                   udg_QuestCasualty          = null
    quest                   udg_QuestVillager          = null
    quest                   udg_QuestMain              = null
    unit                    udg_AcoImmortal            = null
    boolean                 udg_BoleanVillager         = false
    boolean                 udg_BoleanCasualty         = false
    location                udg_FA_Point               = null
    location                udg_PointMine              = null
    integer                 udg_IntegerMine            = 0
    boolean                 udg_BoleanAmbush           = false
    boolean                 udg_BoleanAttack2          = false
    group                   udg_ArchersLeft            = null
    group                   udg_ArchersRight           = null
    integer                 udg_RandomColourLight1     = 0
    integer                 udg_RandomColourLight2     = 0
    integer                 udg_RandomColourLight3     = 0
    integer                 udg_RandomColourLight4     = 0
    group                   udg_WarriorsBridge         = null
    unit                    udg_UnitTargetBashBowman   = null
    unit                    udg_UnitTargetBashSkeletonArcher = null
    unit                    udg_UnitTargetBashWarrior  = null
    unit                    udg_UnitTargetBashSkeletonWarrior = null
    unit                    udg_UnitTargetBashDwarf    = null
    unit                    udg_UnitTargetBashMine     = null
    integer                 udg_UDex                   = 0
    integer array           udg_UnitIndexLock
    integer array           udg_UDexPrev
    integer array           udg_UDexNext
    real                    udg_UnitIndexEvent         = 0
    unit array              udg_UDexUnits
    integer                 udg_UDexRecycle            = 0
    boolean                 udg_UnitIndexerEnabled     = false
    integer                 udg_UDexWasted             = 0
    integer                 udg_UDexGen                = 0
    integer                 udg_DamageBlockingAbility  = 0
    integer                 udg_SpellDamageAbility     = 0
    integer                 udg_DamageTypeExplosive    = 0
    integer                 udg_DamageTypeCriticalStrike = 0
    integer                 udg_DamageTypeHeal         = 0
    integer                 udg_DamageTypeReduced      = 0
    integer                 udg_DamageTypeBlocked      = 0
    integer                 udg_DmgEvBracers           = 0
    real                    udg_DAMAGE_FACTOR_BRACERS  = 0
    real                    udg_DAMAGE_FACTOR_ELUNES   = 0
    real                    udg_DAMAGE_FACTOR_ETHEREAL = 0
    integer                 udg_DamageEventAOE         = 0
    integer                 udg_DamageEventLevel       = 0
    real                    udg_AfterDamageEvent       = 0
    real                    udg_DamageEvent            = 0
    real                    udg_AOEDamageEvent         = 0
    real                    udg_DamageModifierEvent    = 0
    trigger                 udg_ClearDamageEvent       = null
    real                    udg_DamageEventAmount      = 0
    real                    udg_DamageEventPrevAmt     = 0
    boolean                 udg_DamageEventOverride    = false
    boolean                 udg_NextDamageOverride     = false
    unit                    udg_DamageEventSource      = null
    unit                    udg_DamageEventTarget      = null
    trigger                 udg_DamageEventTrigger     = null
    trigger                 udg_DmgEvTrig              = null
    integer                 udg_DamageEventType        = 0
    integer array           udg_LastDmgPrevType
    integer                 udg_NextDamageType         = 0
    integer                 udg_DamageEventsWasted     = 0
    integer                 udg_DmgEvRecursionN        = 0
    boolean                 udg_DmgEvRunning           = false
    boolean                 udg_DmgEvStarted           = false
    boolean                 udg_IsDamageSpell          = false
    boolean array           udg_LastDmgWasSpell
    real                    udg_LastDamageHP           = 0
    timer                   udg_DmgEvTimer             = null
    real array              udg_LastDmgPrevAmount
    real array              udg_LastDmgValue
    unit array              udg_LastDmgSource
    unit array              udg_LastDmgTarget
    boolean array           udg_HideDamageFrom
    boolean array           udg_UnitDamageRegistered
    unit                    udg_EnhancedDamageTarget   = null
    group                   udg_DamageEventAOEGroup    = null
    unit                    udg_UnitSkeletonArcher     = null
    unit                    udg_UnitWarrior1           = null
    unit                    udg_UnitWarrior2           = null
    unit                    udg_UnitWarrior3           = null
    unit                    udg_UnitWarrior4           = null
    unit                    udg_UnitWarrior5           = null
    unit                    udg_UnitWarrior6           = null
    unit                    udg_UnitWarrior7           = null
    unit                    udg_UnitWarrior8           = null
    unit                    udg_UnitWarrior9           = null
    unit                    udg_UnitWarrior10          = null
    unit                    udg_UnitSkeletonWarrior    = null
    unit                    udg_UnitDwarf1             = null
    unit                    udg_UnitBowman1            = null
    unit                    udg_UnitBowman2            = null
    unit                    udg_UnitBowman3            = null
    unit                    udg_UnitBowman4            = null
    unit                    udg_UnitBowman             = null
    unit                    udg_UnitDummyFlame1        = null
    unit                    udg_UnitDummyFlame2        = null
    unit                    udg_UnitDummyFlame3        = null
    unit                    udg_UnitDummyFlame4        = null
    unit                    udg_UnitDwarf              = null
    integer                 udg_IntegerFlameArrow      = 0
    unit                    udg_UnitTargetBashGhoul    = null
    boolean                 udg_BoleanAttackStance     = false

    // Generated
    rect                    gg_rct_LeftSkeletons       = null
    rect                    gg_rct_PeasantsArea        = null
    rect                    gg_rct_SquadArcher2        = null
    rect                    gg_rct_Squad2              = null
    rect                    gg_rct_Ghoul1              = null
    rect                    gg_rct_Ghou11              = null
    rect                    gg_rct_Ghoul12             = null
    rect                    gg_rct_Ghoul2              = null
    rect                    gg_rct_Ghoul21             = null
    rect                    gg_rct_SquadAmbush         = null
    rect                    gg_rct_AmbushSquad1        = null
    rect                    gg_rct_Victory             = null
    rect                    gg_rct_AmbushSquad1Archers = null
    rect                    gg_rct_skelie1             = null
    rect                    gg_rct_skelie2             = null
    rect                    gg_rct_skelie3             = null
    rect                    gg_rct_skelie4             = null
    rect                    gg_rct_skelie5             = null
    rect                    gg_rct_skelie6             = null
    rect                    gg_rct_SkeletonRight       = null
    rect                    gg_rct_ArchersRight        = null
    rect                    gg_rct_ArchersLeft         = null
    rect                    gg_rct_Squad1Group         = null
    rect                    gg_rct_Ghoul1Group         = null
    rect                    gg_rct_Ghoul2Group         = null
    rect                    gg_rct_CameraRegion        = null
    rect                    gg_rct_AttackAreaAmbushSquad = null
    rect                    gg_rct_WarriorMiddle1      = null
    rect                    gg_rct_WarriorMiddle2      = null
    rect                    gg_rct_WarriorMiddle3      = null
    rect                    gg_rct_WarriorMiddle4      = null
    rect                    gg_rct_RightSkeletons      = null
    rect                    gg_rct_SquadArcher1        = null
    rect                    gg_rct_Squad1              = null
    rect                    gg_rct_WarriorBridge1      = null
    rect                    gg_rct_WarriorBridge2      = null
    rect                    gg_rct_WarriorTown1        = null
    rect                    gg_rct_WarriorTown2        = null
    rect                    gg_rct_WarriorTown3        = null
    rect                    gg_rct_WarriorTown4        = null
    rect                    gg_rct_DwarfTown           = null
    rect                    gg_rct_ArcherTown1         = null
    rect                    gg_rct_ArcherTown2         = null
    rect                    gg_rct_ArcherTown3         = null
    rect                    gg_rct_ArcherTown4         = null
    rect                    gg_rct_RegionDwarfMines    = null
    rect                    gg_rct_Cliff1              = null
    rect                    gg_rct_Cliff_Hint          = null
    camerasetup             gg_cam_CameraCinematic     = null
    camerasetup             gg_cam_CameraCinematic1    = null
    camerasetup             gg_cam_CameraCinematic2    = null
    camerasetup             gg_cam_CameraGame          = null
    camerasetup             gg_cam_CameraGameCinematic = null
    string                  gg_snd_Myth_Soundtrack_The_Siege_of_Madriga
    sound                   gg_snd_Swordmanbattle0     = null
    sound                   gg_snd_Swordmanbattle1     = null
    sound                   gg_snd_Swordmanbattle2     = null
    sound                   gg_snd_Swordmanbattle3     = null
    sound                   gg_snd_Swordmanbattle4     = null
    sound                   gg_snd_Bowmanbattle0       = null
    sound                   gg_snd_Bowmanbattle1       = null
    sound                   gg_snd_Bowmanbattle2       = null
    trigger                 gg_trg_Unit_Indexer        = null
    trigger                 gg_trg_Damage_Engine_Config = null
    trigger                 gg_trg_Damage_Engine       = null
    trigger                 gg_trg_Acquires_a_Satchel_Charge = null
    trigger                 gg_trg_Loses_Bounty        = null
    trigger                 gg_trg_Acquires_a_Flame_Arrow = null
    trigger                 gg_trg_DwarfDrops          = null
    trigger                 gg_trg_BowmanDrops         = null
    trigger                 gg_trg_Cliff_Hint          = null
    trigger                 gg_trg_Bowman_enter_cliff_1 = null
    trigger                 gg_trg_Bowman_leaves_cliff_1 = null
    trigger                 gg_trg_Dwarf_enter_cliff_1 = null
    trigger                 gg_trg_Dwarf_leaves_cliff_1 = null
    trigger                 gg_trg_Dark_Bounty         = null
    trigger                 gg_trg_Warrior_bounty      = null
    trigger                 gg_trg_Dwarf_bounty        = null
    trigger                 gg_trg_Bowman_bounty1      = null
    trigger                 gg_trg_Bowman_bounty2      = null
    trigger                 gg_trg_Bowman_bounty3      = null
    trigger                 gg_trg_Bowman_bounty4      = null
    trigger                 gg_trg_RemoveItens         = null
    trigger                 gg_trg_RegionDwarf         = null
    trigger                 gg_trg_Place_Mine_Copy     = null
    trigger                 gg_trg_MineExplode         = null
    trigger                 gg_trg_Dwarf_Bash          = null
    trigger                 gg_trg_Dwarf_Dies_with_Mines = null
    trigger                 gg_trg_SkeletonArcherDamaged = null
    trigger                 gg_trg_SkeletonWarriorDamaged = null
    trigger                 gg_trg_GhoulDamaged        = null
    trigger                 gg_trg_DwarfDamaged        = null
    trigger                 gg_trg_BowmanDamaged       = null
    trigger                 gg_trg_WarriorDamaged1     = null
    trigger                 gg_trg_WarriorDamaged2     = null
    trigger                 gg_trg_WarriorDamaged3     = null
    trigger                 gg_trg_WarriorDamaged4     = null
    trigger                 gg_trg_WarriorDamaged5     = null
    trigger                 gg_trg_WarriorDamaged6     = null
    trigger                 gg_trg_WarriorDamaged7     = null
    trigger                 gg_trg_WarriorDamaged8     = null
    trigger                 gg_trg_WarriorDamaged9     = null
    trigger                 gg_trg_WarriorDamaged10    = null
    trigger                 gg_trg_Flaming_Arrow_1     = null
    trigger                 gg_trg_Flaming_Arrow_2     = null
    trigger                 gg_trg_Flaming_Arrow_3     = null
    trigger                 gg_trg_Flaming_Arrow_4     = null
    trigger                 gg_trg_Archer_Dies_with_Flame_Arrow_1 = null
    trigger                 gg_trg_cam                 = null
    trigger                 gg_trg_Main_Quest          = null
    trigger                 gg_trg_Optional_Quest      = null
    trigger                 gg_trg_Optional_Quest_Casualty = null
    trigger                 gg_trg_Villager_die        = null
    trigger                 gg_trg_LightWarrior_die    = null
    trigger                 gg_trg_RightKey            = null
    trigger                 gg_trg_LeftKey             = null
    trigger                 gg_trg_Bowman              = null
    trigger                 gg_trg_Swordman            = null
    trigger                 gg_trg_Casualty            = null
    trigger                 gg_trg_PeasantsUG          = null
    trigger                 gg_trg_CasualtyVillager    = null
    trigger                 gg_trg_Cinematic           = null
    trigger                 gg_trg_SkeletonsRight      = null
    trigger                 gg_trg_SkeletonsLeft       = null
    trigger                 gg_trg_Victory             = null
    trigger                 gg_trg_Deafeat             = null
    trigger                 gg_trg_DeafeatVillage      = null
    trigger                 gg_trg_Ghoul1Group         = null
    trigger                 gg_trg_Ghoul2Group         = null
    trigger                 gg_trg_GhoulSquad1         = null
    trigger                 gg_trg_GhoulSquad12        = null
    trigger                 gg_trg_GhoulSquad1Attacks  = null
    trigger                 gg_trg_GhoulSquad21        = null
    trigger                 gg_trg_GhoulSquad1Attacks2 = null
    trigger                 gg_trg_GhoulSquad2         = null
    trigger                 gg_trg_GhoulSquad22        = null
    trigger                 gg_trg_GhoulSquad2Attacks  = null
    trigger                 gg_trg_GhoulSquad21_Copy   = null
    trigger                 gg_trg_GhoulSquad2Attacks2 = null
    trigger                 gg_trg_Squad1_Attacked     = null
    trigger                 gg_trg_BridgeAttacked_RightLeft = null
    trigger                 gg_trg_BridgeAttacked_RightLeft_After = null
    trigger                 gg_trg_Skeleton_Squad_Group = null
    trigger                 gg_trg_Squad1_Dies         = null
    trigger                 gg_trg_Squad1Moves         = null
    trigger                 gg_trg_RunSquadAmbush      = null
    trigger                 gg_trg_SkeletonAmbushSquad = null
    trigger                 gg_trg_AmbushSquadMoves    = null
    trigger                 gg_trg_AmbushSquad_dies    = null
    trigger                 gg_trg_conditionAmbushSquad = null
    trigger                 gg_trg_RandomMove          = null
    trigger                 gg_trg_RandomMove_Copy     = null
    trigger                 gg_trg_SquadBridge         = null
    trigger                 gg_trg_Initializing        = null
    trigger                 gg_trg_randomcolourWarrior1 = null
    trigger                 gg_trg_randomcolourWarrior2 = null
    trigger                 gg_trg_randomcolourWarrior3 = null
    trigger                 gg_trg_randomcolourWarrior4 = null
    trigger                 gg_trg_randomcolourWarriorBridge1 = null
    trigger                 gg_trg_randomcolourWarriorBridge2 = null
    trigger                 gg_trg_randomcolourWarriorTown1 = null
    trigger                 gg_trg_randomcolourWarriorTown2 = null
    trigger                 gg_trg_randomcolourWarriorTown3 = null
    trigger                 gg_trg_randomcolourWarriorTown4 = null
    trigger                 gg_trg_randomcolourDwarfTown = null
    trigger                 gg_trg_randomcolounBowmanTown1 = null
    trigger                 gg_trg_randomcolounBowmanTown2 = null
    trigger                 gg_trg_randomcolounBowmanTown3 = null
    trigger                 gg_trg_randomcolounBowmanTown4 = null
    trigger                 gg_trg_ChooseLevel         = null
    unit                    gg_unit_n004_0034          = null
    unit                    gg_unit_n001_0033          = null
    unit                    gg_unit_n001_0030          = null
    unit                    gg_unit_n001_0038          = null
    unit                    gg_unit_u000_0027          = null
    unit                    gg_unit_u000_0022          = null
    unit                    gg_unit_u000_0021          = null
    unit                    gg_unit_u000_0026          = null
    unit                    gg_unit_u000_0020          = null
    unit                    gg_unit_u000_0018          = null
    unit                    gg_unit_u000_0029          = null
    unit                    gg_unit_u000_0040          = null
    unit                    gg_unit_n001_0039          = null
    unit                    gg_unit_n004_0037          = null
    unit                    gg_unit_n004_0035          = null
    unit                    gg_unit_n005_0043          = null
    unit                    gg_unit_n005_0045          = null
    unit                    gg_unit_u002_0017          = null
    unit                    gg_unit_n002_0023          = null
    unit                    gg_unit_n003_0024          = null
    unit                    gg_unit_n003_0025          = null
    unit                    gg_unit_n004_0032          = null
    unit                    gg_unit_n005_0044          = null
    unit                    gg_unit_n003_0028          = null
endglobals

function InitGlobals takes nothing returns nothing
    local integer i = 0
    set udg_SkeletonLeft = CreateGroup()
    set udg_SkeletonRight = CreateGroup()
    set udg_SkeletonSquad1 = CreateGroup()
    set udg_SkeletonArcherSquad1 = CreateGroup()
    set udg_Ghoul1 = CreateGroup()
    set udg_RNghoul = 0
    set udg_ArcherGroup = CreateGroup()
    set udg_LigthGroup = CreateGroup()
    set udg_SkeletonArcherSquad2 = CreateGroup()
    set udg_SkeletonSquad2 = CreateGroup()
    set udg_Ghoul2 = CreateGroup()
    set udg_BoleanAttack = false
    set udg_PeasantsGroup = CreateGroup()
    set udg_DialogLevel = DialogCreate()
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_BoleanDifculty[i] = false
        set i = i + 1
    endloop

    set udg_BoleanCinematic = false
    set udg_RandomNumberSound1 = 0
    set udg_RandomNumberSound2 = 0
    set udg_FacinAngle = 0
    set udg_BoleanVillager = false
    set udg_BoleanCasualty = false
    set udg_IntegerMine = 0
    set udg_BoleanAmbush = false
    set udg_BoleanAttack2 = false
    set udg_ArchersLeft = CreateGroup()
    set udg_ArchersRight = CreateGroup()
    set udg_RandomColourLight1 = 0
    set udg_RandomColourLight2 = 0
    set udg_RandomColourLight3 = 0
    set udg_RandomColourLight4 = 0
    set udg_WarriorsBridge = CreateGroup()
    set udg_UDex = 0
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UnitIndexLock[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UDexPrev[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UDexNext[i] = 0
        set i = i + 1
    endloop

    set udg_UnitIndexEvent = 0
    set udg_UDexRecycle = 0
    set udg_UnitIndexerEnabled = false
    set udg_UDexWasted = 0
    set udg_UDexGen = 0
    set udg_DamageTypeExplosive = 0
    set udg_DamageTypeCriticalStrike = 0
    set udg_DamageTypeHeal = 0
    set udg_DamageTypeReduced = 0
    set udg_DamageTypeBlocked = 0
    set udg_DAMAGE_FACTOR_BRACERS = 0
    set udg_DAMAGE_FACTOR_ELUNES = 0
    set udg_DAMAGE_FACTOR_ETHEREAL = 0
    set udg_DamageEventAOE = 0
    set udg_DamageEventLevel = 0
    set udg_AfterDamageEvent = 0
    set udg_DamageEvent = 0
    set udg_AOEDamageEvent = 0
    set udg_DamageModifierEvent = 0
    set udg_DamageEventAmount = 0
    set udg_DamageEventPrevAmt = 0
    set udg_DamageEventOverride = false
    set udg_NextDamageOverride = false
    set udg_DamageEventType = 0
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgPrevType[i] = 0
        set i = i + 1
    endloop

    set udg_NextDamageType = 0
    set udg_DamageEventsWasted = 0
    set udg_DmgEvRecursionN = 0
    set udg_DmgEvRunning = false
    set udg_DmgEvStarted = false
    set udg_IsDamageSpell = false
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgWasSpell[i] = false
        set i = i + 1
    endloop

    set udg_LastDamageHP = 0
    set udg_DmgEvTimer = CreateTimer()
    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgPrevAmount[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_LastDmgValue[i] = 0
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_HideDamageFrom[i] = false
        set i = i + 1
    endloop

    set i = 0
    loop
        exitwhen (i > 1)
        set udg_UnitDamageRegistered[i] = false
        set i = i + 1
    endloop

    set udg_DamageEventAOEGroup = CreateGroup()
    set udg_IntegerFlameArrow = 0
    set udg_BoleanAttackStance = false
endfunction

//***************************************************************************
//*
//*  Custom Script Code
//*
//***************************************************************************

//***************************************************************************
//*
//*  Destructible Item Tables
//*
//***************************************************************************

function Doodad000351_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'I00B', 100 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction

function Doodad000353_DropItems takes nothing returns nothing
    local widget  trigWidget = null
    local unit    trigUnit   = null
    local integer itemID     = 0
    local boolean canDrop    = true

    set trigWidget = bj_lastDyingWidget
    if (trigWidget == null) then
        set trigUnit = GetTriggerUnit()
    endif

    if (trigUnit != null) then
        set canDrop = not IsUnitHidden(trigUnit)
        if (canDrop and GetChangingUnit() != null) then
            set canDrop = (GetChangingUnitPrevOwner() == Player(PLAYER_NEUTRAL_AGGRESSIVE))
        endif
    endif

    if (canDrop) then
        // Item set 0
        call RandomDistReset(  )
        call RandomDistAddItem( 'I00B', 50 )
        call RandomDistAddItem( 'I00A', 50 )
        set itemID = RandomDistChoose(  )
        if (trigUnit != null) then
            call UnitDropItem( trigUnit, itemID )
        else
            call WidgetDropItem( trigWidget, itemID )
        endif

    endif

    set bj_lastDyingWidget = null
    call DestroyTrigger(GetTriggeringTrigger())
endfunction


//***************************************************************************
//*
//*  Sound Assets
//*
//***************************************************************************

function InitSounds takes nothing returns nothing
    set gg_snd_Myth_Soundtrack_The_Siege_of_Madriga = "war3mapImported/Myth Soundtrack The Siege of Madriga.mp3"
    set gg_snd_Swordmanbattle0 = CreateSound( "war3mapImported/Swordmanbattle0.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Swordmanbattle0, 1409 )
    call SetSoundChannel( gg_snd_Swordmanbattle0, 0 )
    call SetSoundVolume( gg_snd_Swordmanbattle0, 127 )
    call SetSoundPitch( gg_snd_Swordmanbattle0, 1.0 )
    set gg_snd_Swordmanbattle1 = CreateSound( "war3mapImported/Swordmanbattle1.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Swordmanbattle1, 993 )
    call SetSoundChannel( gg_snd_Swordmanbattle1, 0 )
    call SetSoundVolume( gg_snd_Swordmanbattle1, 127 )
    call SetSoundPitch( gg_snd_Swordmanbattle1, 1.0 )
    set gg_snd_Swordmanbattle2 = CreateSound( "war3mapImported/Swordmanbattle2.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Swordmanbattle2, 1507 )
    call SetSoundChannel( gg_snd_Swordmanbattle2, 0 )
    call SetSoundVolume( gg_snd_Swordmanbattle2, 127 )
    call SetSoundPitch( gg_snd_Swordmanbattle2, 1.0 )
    set gg_snd_Swordmanbattle3 = CreateSound( "war3mapImported/Swordmanbattle3.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Swordmanbattle3, 1055 )
    call SetSoundChannel( gg_snd_Swordmanbattle3, 0 )
    call SetSoundVolume( gg_snd_Swordmanbattle3, 127 )
    call SetSoundPitch( gg_snd_Swordmanbattle3, 1.0 )
    set gg_snd_Swordmanbattle4 = CreateSound( "war3mapImported/Swordmanbattle4.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Swordmanbattle4, 1282 )
    call SetSoundChannel( gg_snd_Swordmanbattle4, 0 )
    call SetSoundVolume( gg_snd_Swordmanbattle4, 127 )
    call SetSoundPitch( gg_snd_Swordmanbattle4, 1.0 )
    set gg_snd_Bowmanbattle0 = CreateSound( "war3mapImported/Bowmanbattle0.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Bowmanbattle0, 1674 )
    call SetSoundChannel( gg_snd_Bowmanbattle0, 0 )
    call SetSoundVolume( gg_snd_Bowmanbattle0, 127 )
    call SetSoundPitch( gg_snd_Bowmanbattle0, 1.0 )
    set gg_snd_Bowmanbattle1 = CreateSound( "war3mapImported/Bowmanbattle1.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Bowmanbattle1, 1044 )
    call SetSoundChannel( gg_snd_Bowmanbattle1, 0 )
    call SetSoundVolume( gg_snd_Bowmanbattle1, 127 )
    call SetSoundPitch( gg_snd_Bowmanbattle1, 1.0 )
    set gg_snd_Bowmanbattle2 = CreateSound( "war3mapImported/Bowmanbattle2.wav", false, false, false, 0, 0, "DefaultEAXON" )
    call SetSoundDuration( gg_snd_Bowmanbattle2, 1328 )
    call SetSoundChannel( gg_snd_Bowmanbattle2, 0 )
    call SetSoundVolume( gg_snd_Bowmanbattle2, 127 )
    call SetSoundPitch( gg_snd_Bowmanbattle2, 1.0 )
endfunction

//***************************************************************************
//*
//*  Destructable Objects
//*
//***************************************************************************

function CreateAllDestructables takes nothing returns nothing
    local destructable d
    local trigger t
    local real life
    set d = BlzCreateDestructableWithSkin( 'B001', 3520.0, -4864.0, 112.000, 0.720, 0, 'B001' )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000353_DropItems )
    set d = BlzCreateDestructableWithSkin( 'B001', 1536.0, -3328.0, 198.000, 0.792, 1, 'B001' )
    set t = CreateTrigger(  )
    call TriggerRegisterDeathEvent( t, d )
    call TriggerAddAction( t, function SaveDyingWidget )
    call TriggerAddAction( t, function Doodad000351_DropItems )
endfunction

//***************************************************************************
//*
//*  Unit Creation
//*
//***************************************************************************

//===========================================================================
function CreateUnitsForPlayer8 takes nothing returns nothing
    local player p = Player(8)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_u002_0017 = BlzCreateUnitWithSkin( p, 'u002', 2920.0, 4913.1, 90.000, 'u002' )
endfunction

//===========================================================================
function CreateUnitsForPlayer9 takes nothing returns nothing
    local player p = Player(9)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_n002_0023 = BlzCreateUnitWithSkin( p, 'n002', 2823.8, -3999.0, 114.745, 'n002' )
    set gg_unit_n003_0024 = BlzCreateUnitWithSkin( p, 'n003', 1289.9, -4754.2, 325.293, 'n003' )
    set gg_unit_n003_0025 = BlzCreateUnitWithSkin( p, 'n003', 1875.5, -4970.0, 338.532, 'n003' )
    set gg_unit_n003_0028 = BlzCreateUnitWithSkin( p, 'n003', 3415.8, -4294.3, 247.242, 'n003' )
    set gg_unit_n004_0032 = BlzCreateUnitWithSkin( p, 'n004', 417.2, -4767.5, 311.406, 'n004' )
    set gg_unit_n004_0034 = BlzCreateUnitWithSkin( p, 'n004', -160.8, -4084.4, 138.729, 'n004' )
    set gg_unit_n004_0035 = BlzCreateUnitWithSkin( p, 'n004', -162.4, -4780.1, 0.626, 'n004' )
    set gg_unit_n004_0037 = BlzCreateUnitWithSkin( p, 'n004', 3397.0, -3963.5, 272.139, 'n004' )
    set gg_unit_n005_0043 = BlzCreateUnitWithSkin( p, 'n005', 455.1, -4491.0, 170.546, 'n005' )
    set gg_unit_n005_0044 = BlzCreateUnitWithSkin( p, 'n005', 1779.0, -3675.1, 349.233, 'n005' )
    set gg_unit_n005_0045 = BlzCreateUnitWithSkin( p, 'n005', 2927.9, -4924.1, 231.896, 'n005' )
endfunction

//===========================================================================
function CreateUnitsForPlayer20 takes nothing returns nothing
    local player p = Player(20)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set gg_unit_u000_0018 = BlzCreateUnitWithSkin( p, 'u000', -1319.0, 2365.3, 278.938, 'u000' )
    set gg_unit_u000_0020 = BlzCreateUnitWithSkin( p, 'u000', -1215.7, 2355.4, 268.379, 'u000' )
    set gg_unit_u000_0021 = BlzCreateUnitWithSkin( p, 'u000', -1126.6, 2355.4, 259.187, 'u000' )
    set gg_unit_u000_0022 = BlzCreateUnitWithSkin( p, 'u000', -1129.6, 2482.8, 250.523, 'u000' )
    set gg_unit_u000_0026 = BlzCreateUnitWithSkin( p, 'u000', -1403.0, 2365.3, 287.103, 'u000' )
    set gg_unit_u000_0027 = BlzCreateUnitWithSkin( p, 'u000', -1320.1, 2476.0, 277.567, 'u000' )
    set gg_unit_u000_0029 = BlzCreateUnitWithSkin( p, 'u000', -1228.6, 2469.1, 269.772, 'u000' )
    set gg_unit_n001_0030 = BlzCreateUnitWithSkin( p, 'n001', -1005.0, 2425.1, 257.322, 'n001' )
    set gg_unit_n001_0033 = BlzCreateUnitWithSkin( p, 'n001', -1499.7, 2445.3, 283.196, 'n001' )
    set gg_unit_n001_0038 = BlzCreateUnitWithSkin( p, 'n001', -1599.0, 2448.7, 283.196, 'n001' )
    set gg_unit_n001_0039 = BlzCreateUnitWithSkin( p, 'n001', -901.0, 2421.8, 283.196, 'n001' )
    set gg_unit_u000_0040 = BlzCreateUnitWithSkin( p, 'u000', -1402.0, 2462.3, 287.103, 'u000' )
endfunction

//===========================================================================
function CreateNeutralPassive takes nothing returns nothing
    local player p = Player(PLAYER_NEUTRAL_PASSIVE)
    local unit u
    local integer unitID
    local trigger t
    local real life

    set u = BlzCreateUnitWithSkin( p, 'npig', 847.2, -4389.9, 233.236, 'npig' )
    set u = BlzCreateUnitWithSkin( p, 'npig', 847.8, -4503.6, 252.474, 'npig' )
    set u = BlzCreateUnitWithSkin( p, 'npig', 851.4, -4620.4, 139.608, 'npig' )
endfunction

//===========================================================================
function CreatePlayerBuildings takes nothing returns nothing
endfunction

//===========================================================================
function CreatePlayerUnits takes nothing returns nothing
    call CreateUnitsForPlayer8(  )
    call CreateUnitsForPlayer9(  )
    call CreateUnitsForPlayer20(  )
endfunction

//===========================================================================
function CreateAllUnits takes nothing returns nothing
    call CreatePlayerBuildings(  )
    call CreateNeutralPassive(  )
    call CreatePlayerUnits(  )
endfunction

//***************************************************************************
//*
//*  Regions
//*
//***************************************************************************

function CreateRegions takes nothing returns nothing
    local weathereffect we

    set gg_rct_LeftSkeletons = Rect( -1504.0, 928.0, -1344.0, 1088.0 )
    set gg_rct_PeasantsArea = Rect( 160.0, -5312.0, 4224.0, -3296.0 )
    set gg_rct_SquadArcher2 = Rect( -480.0, -1664.0, -320.0, -1504.0 )
    set gg_rct_Squad2 = Rect( -608.0, -1440.0, -448.0, -1280.0 )
    set gg_rct_Ghoul1 = Rect( 352.0, 736.0, 576.0, 928.0 )
    set gg_rct_Ghou11 = Rect( 2688.0, 128.0, 2912.0, 320.0 )
    set gg_rct_Ghoul12 = Rect( 4320.0, -1504.0, 4544.0, -1312.0 )
    set gg_rct_Ghoul2 = Rect( -3264.0, -672.0, -3040.0, -320.0 )
    set gg_rct_Ghoul21 = Rect( -3904.0, -2400.0, -3680.0, -2176.0 )
    set gg_rct_SquadAmbush = Rect( -4800.0, -4320.0, -4416.0, -3904.0 )
    set gg_rct_AmbushSquad1 = Rect( -3360.0, -4160.0, -3232.0, -4032.0 )
    set gg_rct_Victory = Rect( -1600.0, 2016.0, -832.0, 2656.0 )
    set gg_rct_AmbushSquad1Archers = Rect( -3200.0, -4160.0, -3072.0, -4032.0 )
    set gg_rct_skelie1 = Rect( -1408.0, 1120.0, -1280.0, 1248.0 )
    set gg_rct_skelie2 = Rect( -1280.0, 1088.0, -1152.0, 1216.0 )
    set gg_rct_skelie3 = Rect( -1152.0, 1088.0, -1024.0, 1216.0 )
    set gg_rct_skelie4 = Rect( -1376.0, 992.0, -1248.0, 1120.0 )
    set gg_rct_skelie5 = Rect( -1248.0, 992.0, -1120.0, 1120.0 )
    set gg_rct_skelie6 = Rect( -1152.0, 992.0, -1024.0, 1120.0 )
    set gg_rct_SkeletonRight = Rect( -736.0, 2528.0, -448.0, 2816.0 )
    set gg_rct_ArchersRight = Rect( -1056.0, 1056.0, -960.0, 1152.0 )
    set gg_rct_ArchersLeft = Rect( -1440.0, 1056.0, -1344.0, 1152.0 )
    set gg_rct_Squad1Group = Rect( -1472.0, 3488.0, -1088.0, 3936.0 )
    set gg_rct_Ghoul1Group = Rect( -640.0, 3744.0, -256.0, 4096.0 )
    set gg_rct_Ghoul2Group = Rect( -4480.0, 3520.0, -4096.0, 3872.0 )
    set gg_rct_CameraRegion = Rect( 2336.0, -4160.0, 2400.0, -4096.0 )
    set gg_rct_AttackAreaAmbushSquad = Rect( 3072.0, -4576.0, 3584.0, -4032.0 )
    set gg_rct_WarriorMiddle1 = Rect( -352.0, -1536.0, -224.0, -1408.0 )
    set gg_rct_WarriorMiddle2 = Rect( -224.0, -1504.0, -96.0, -1376.0 )
    set gg_rct_WarriorMiddle3 = Rect( -320.0, -1632.0, -192.0, -1504.0 )
    set gg_rct_WarriorMiddle4 = Rect( -192.0, -1632.0, -64.0, -1504.0 )
    set gg_rct_RightSkeletons = Rect( -1024.0, 928.0, -896.0, 1056.0 )
    set gg_rct_SquadArcher1 = Rect( -1248.0, 384.0, -1088.0, 544.0 )
    set gg_rct_Squad1 = Rect( -1248.0, 576.0, -1088.0, 736.0 )
    set gg_rct_WarriorBridge1 = Rect( -1440.0, 608.0, -1312.0, 736.0 )
    set gg_rct_WarriorBridge2 = Rect( -1056.0, 576.0, -928.0, 704.0 )
    set gg_rct_WarriorTown1 = Rect( 2272.0, -3968.0, 2368.0, -3872.0 )
    set gg_rct_WarriorTown2 = Rect( 2144.0, -4032.0, 2240.0, -3936.0 )
    set gg_rct_WarriorTown3 = Rect( 2112.0, -4160.0, 2208.0, -4064.0 )
    set gg_rct_WarriorTown4 = Rect( 2112.0, -4320.0, 2208.0, -4224.0 )
    set gg_rct_DwarfTown = Rect( 2240.0, -4384.0, 2336.0, -4288.0 )
    set gg_rct_ArcherTown1 = Rect( 2368.0, -4384.0, 2464.0, -4288.0 )
    set gg_rct_ArcherTown2 = Rect( 2496.0, -4320.0, 2592.0, -4224.0 )
    set gg_rct_ArcherTown3 = Rect( 2528.0, -4160.0, 2624.0, -4064.0 )
    set gg_rct_ArcherTown4 = Rect( 2432.0, -4000.0, 2528.0, -3904.0 )
    set gg_rct_RegionDwarfMines = Rect( 1632.0, -3840.0, 1760.0, -3712.0 )
    set gg_rct_Cliff1 = Rect( 576.0, -2848.0, 928.0, -2496.0 )
    set gg_rct_Cliff_Hint = Rect( 0.0, -3456.0, 1568.0, -2208.0 )
endfunction

//***************************************************************************
//*
//*  Cameras
//*
//***************************************************************************

function CreateCameras takes nothing returns nothing

    set gg_cam_CameraCinematic = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_ROTATION, 119.1, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.4, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_TARGET_DISTANCE, 2200.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_NEARZ, 16.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_CameraCinematic, 2327.6, -3744.9, 0.0 )

    set gg_cam_CameraCinematic1 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_ROTATION, 116.2, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_ANGLE_OF_ATTACK, 325.4, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_TARGET_DISTANCE, 2200.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_NEARZ, 16.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic1, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_CameraCinematic1, -876.6, 969.4, 0.0 )

    set gg_cam_CameraCinematic2 = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_ROTATION, 12.5, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_ANGLE_OF_ATTACK, 340.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_TARGET_DISTANCE, 2200.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_NEARZ, 16.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraCinematic2, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_CameraCinematic2, -1826.0, -3989.2, 0.0 )

    set gg_cam_CameraGame = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_TARGET_DISTANCE, 2000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_NEARZ, 16.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGame, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_CameraGame, 2461.7, -3632.3, 0.0 )

    set gg_cam_CameraGameCinematic = CreateCameraSetup(  )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_ZOFFSET, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_ROTATION, 90.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_ANGLE_OF_ATTACK, 328.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_TARGET_DISTANCE, 2000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_ROLL, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_FIELD_OF_VIEW, 70.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_FARZ, 5000.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_NEARZ, 16.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_LOCAL_PITCH, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_LOCAL_YAW, 0.0, 0.0 )
    call CameraSetupSetField( gg_cam_CameraGameCinematic, CAMERA_FIELD_LOCAL_ROLL, 0.0, 0.0 )
    call CameraSetupSetDestPosition( gg_cam_CameraGameCinematic, -1181.0, 610.8, 0.0 )

endfunction

//***************************************************************************
//*
//*  Triggers
//*
//***************************************************************************

//===========================================================================
// Trigger: Unit Indexer
//
// Unit Indexer gives you an array-safe (1-8190) custom value for units, eliminating the need for hashtables to store unit-specific data.
// Just use "Set MyArrayData[(Custom value of Unit)] = (Some data)".
// --------
// If you want to get the unit assigned to an index (reverse lookup) use "UDexUnits[(Index)]".
// --------
// If you want to detect when an index is created or when it is released, use "UnitIndexEvent Equal to 1.00" (created) or "UnitIndexEvent Equal to 2.00" (released). The index being created/released is called "UDex".
// --------
// You can enable/disable Unit Indexer to protect some of your undesirable units from being indexed like this:
// Trigger - Turn off Unit Indexer <gen>
// Unit - Create 1 Dummy for (Triggering player) at TempPoint facing 0.00 degrees
// Trigger - Turn on Unit Indexer <gen>
// --------
// If you want to use a Map Initialization trigger that uses custom value of units, to make sure that UnitIndexer initializes first, use the event "UnitIndexEvent Equal to 3.00". Otherwise the custom value of units may be zero.
// --------
// Advanced:
// --------
// If you want to lock the index of a unit, use "Set UnitIndexLock[(Index)] = (UnitIndexLock[(Index)] + 1)". This will prevent the index from being recycled. If you want to unlock it and allow it to be recycled, run the Unit Indexer <gen> trigger.
// Note: Make sure if you add a lock that you will eventually remove the lock, otherwise the index will never be recycled.
//===========================================================================
function Trig_Unit_Indexer_Func005Func002C takes nothing returns boolean
    if ( not ( udg_UnitIndexLock[udg_UDex] == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func005C takes nothing returns boolean
    if ( not ( GetUnitUserData(udg_UDexUnits[udg_UDex]) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func014Func003C takes nothing returns boolean
    if ( not ( udg_UDexWasted == 32 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func014Func005C takes nothing returns boolean
    if ( not ( udg_UDexRecycle == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Func014C takes nothing returns boolean
    if ( not ( udg_UnitIndexerEnabled == true ) ) then
        return false
    endif
    if ( not ( GetUnitUserData(GetFilterUnit()) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Unit_Indexer_Actions takes nothing returns nothing
        call ExecuteFunc("InitializeUnitIndexer")
    endfunction
     
    function ClearUnitIndex takes nothing returns nothing
    if ( Trig_Unit_Indexer_Func005C() ) then
        set udg_UnitIndexLock[udg_UDex] = ( udg_UnitIndexLock[udg_UDex] - 1 )
        if ( Trig_Unit_Indexer_Func005Func002C() ) then
            set udg_UDexNext[udg_UDexPrev[udg_UDex]] = udg_UDexNext[udg_UDex]
            set udg_UDexPrev[udg_UDexNext[udg_UDex]] = udg_UDexPrev[udg_UDex]
            set udg_UDexPrev[udg_UDex] = 0
            set udg_UnitIndexEvent = 0.00
            set udg_UnitIndexEvent = 2.00
            set udg_UnitIndexEvent = 0.00
            set udg_UDexUnits[udg_UDex] = null
            set udg_UDexNext[udg_UDex] = udg_UDexRecycle
            set udg_UDexRecycle = udg_UDex
        else
        endif
    else
    endif
    endfunction
     
    function IndexUnit takes nothing returns boolean
        local integer pdex = udg_UDex
        local integer ndex
    // -
    // You can customize the following block - if conditions are false the (Matching unit) won't be indexed.
    // -
    if ( Trig_Unit_Indexer_Func014C() ) then
        set udg_UDexWasted = ( udg_UDexWasted + 1 )
        if ( Trig_Unit_Indexer_Func014Func003C() ) then
            set udg_UDexWasted = 0
            set udg_UDex = udg_UDexNext[0]
            loop
                exitwhen udg_UDex == 0
                set ndex = udg_UDexNext[udg_UDex]
                call ClearUnitIndex()
                set udg_UDex = ndex
            endloop
        else
        endif
        if ( Trig_Unit_Indexer_Func014Func005C() ) then
            set udg_UDex = ( udg_UDexGen + 1 )
            set udg_UDexGen = udg_UDex
        else
            set udg_UDex = udg_UDexRecycle
            set udg_UDexRecycle = udg_UDexNext[udg_UDex]
        endif
        set udg_UDexUnits[udg_UDex] = GetFilterUnit()
        call SetUnitUserData( udg_UDexUnits[udg_UDex], udg_UDex )
        set udg_UDexPrev[udg_UDexNext[0]] = udg_UDex
        set udg_UDexNext[udg_UDex] = udg_UDexNext[0]
        set udg_UDexNext[0] = udg_UDex
        set udg_UnitIndexLock[udg_UDex] = 1
        set udg_UnitIndexEvent = 0.00
        set udg_UnitIndexEvent = 1.00
        set udg_UnitIndexEvent = 0.00
        set udg_UDex = pdex
    else
    endif
        return false
    endfunction
     
    function InitializeUnitIndexer takes nothing returns nothing
        local integer i = bj_MAX_PLAYER_SLOTS
        local boolexpr b = Filter(function IndexUnit)
        local region re = CreateRegion()
        local trigger t = GetTriggeringTrigger()
        local rect r = GetWorldBounds()
        call RegionAddRect(re, r)
        call TriggerRegisterEnterRegion(t, re, b)
        call TriggerClearActions(t)
        call TriggerAddAction(t, function ClearUnitIndex)
    set udg_UnitIndexerEnabled = true
        loop
            set i = i - 1
            call GroupEnumUnitsOfPlayer(bj_lastCreatedGroup, Player(i), b)
            exitwhen i == 0
        endloop
        call RemoveRect(r)
        set re = null
        set r = null
        set t = null
        set b = null
    set udg_UnitIndexEvent = 3.00
    set udg_UnitIndexEvent = 0.00
endfunction

//===========================================================================
function InitTrig_Unit_Indexer takes nothing returns nothing
    set gg_trg_Unit_Indexer = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Unit_Indexer, function Trig_Unit_Indexer_Actions )
endfunction

//===========================================================================
// Trigger: Damage Engine Config
//===========================================================================
function Trig_Damage_Engine_Config_Conditions takes nothing returns boolean
    if ( not ( IsUnitType(udg_UDexUnits[udg_UDex], UNIT_TYPE_STRUCTURE) == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Damage_Engine_Config_Actions takes nothing returns nothing
    // -
    // This trigger's conditions let you filter out units you don't want detection for.
    // NOTE: By default, units with Locust will not pass the check.
    // TIP: The unit is called UDexUnits[UDex] and its custom value is UDex
    // -
    // Copy the Cheat Death Ability from Object Editor into your map and set the following variable respectively:
    // -
    set udg_DamageBlockingAbility = 'A008'
    // -
    // Copy the Detect Spell Damage Ability from Object Editor into your map and set the following variable respectively:
    // -
    set udg_SpellDamageAbility = 'A009'
    // -
    // You can add extra classifications here if you want to differentiate between your triggered damage
    // Use DamageTypeExplosive (or any negative value damage type) if you want a unit killed by that damage to explode
    // -
    set udg_DamageTypeExplosive = -1
    set udg_DamageTypeCriticalStrike = 1
    set udg_DamageTypeHeal = 2
    set udg_DamageTypeReduced = 3
    set udg_DamageTypeBlocked = 4
    // -
    // Leave the next Set statement disabled if you modified the Spell Damage Reduction item ability to 1.67 reduction
    // Otherwise, if you removed that ability from Runed Bracers, you'll need to enable this line:
    // -
    set udg_DmgEvBracers = 'brac'
    // -
    // Set the damage multiplication factor (1.00 being unmodified, increasing in damage over 1.00 and at 0 damage with 0.00)
    // NOTE. With the default values, Runed Bracers is reduces 33%, Elune's Grace reduces 20% and Ethereal increases 67%
    // -
    set udg_DAMAGE_FACTOR_BRACERS = 0.67
    set udg_DAMAGE_FACTOR_ELUNES = 0.80
    set udg_DAMAGE_FACTOR_ETHEREAL = 1.67
    // -
    // Added 25 July 2017 to allow detection of things like Bash or Pulverize or AOE spread
    // -
    set udg_DamageEventAOE = 1
    set udg_DamageEventLevel = 1
    // -
    // Do not enable any of the following lines as they are simply variable declarations to make copying easier
    // -
    set udg_AfterDamageEvent = ( udg_DamageEvent + ( udg_AOEDamageEvent + udg_DamageModifierEvent ) )
    set udg_ClearDamageEvent = GetTriggeringTrigger()
    set udg_DamageEventAmount = udg_DamageEventPrevAmt
    set udg_DamageEventOverride = udg_NextDamageOverride
    set udg_DamageEventSource = udg_DamageEventTarget
    set udg_DamageEventTrigger = udg_DmgEvTrig
    set udg_DamageEventType = ( udg_LastDmgPrevType[0] + udg_NextDamageType )
    set udg_DamageEventsWasted = udg_DmgEvRecursionN
    set udg_DmgEvRunning = udg_DmgEvStarted
    set udg_IsDamageSpell = udg_LastDmgWasSpell[0]
    set udg_LastDamageHP = TimerGetElapsed(udg_DmgEvTimer)
    set udg_LastDmgPrevAmount[0] = udg_LastDmgValue[0]
    set udg_LastDmgSource[0] = udg_LastDmgTarget[0]
    set udg_HideDamageFrom[0] = false
    set udg_UnitDamageRegistered[0] = false
    call GroupAddUnitSimple( udg_EnhancedDamageTarget, udg_DamageEventAOEGroup )
endfunction

//===========================================================================
function InitTrig_Damage_Engine_Config takes nothing returns nothing
    set gg_trg_Damage_Engine_Config = CreateTrigger(  )
    call TriggerAddCondition( gg_trg_Damage_Engine_Config, Condition( function Trig_Damage_Engine_Config_Conditions ) )
    call TriggerAddAction( gg_trg_Damage_Engine_Config, function Trig_Damage_Engine_Config_Actions )
endfunction

//===========================================================================
// Trigger: Damage Engine
//===========================================================================
//===========================================================================
// Damage Engine lets you detect, amplify, block or nullify damage. It even
// lets you detect if the damage was physical or from a spell. Just reference
// DamageEventAmount/Source/Target or the boolean IsDamageSpell, to get the
// necessary damage event data.
//
// - Detect damage: use the event "DamageEvent Equal to 1.00"
// - To change damage before it's dealt: use the event "DamageModifierEvent Equal to 1.00"
// - Detect damage after it was applied, use the event "AfterDamageEvent Equal to 1.00"
// - Detect spell damage: use the condition "IsDamageSpell Equal to True"
// - Detect zero-damage: use the event "DamageEvent Equal to 2.00" (an AfterDamageEvent will not fire for this)
//
// You can specify the DamageEventType before dealing triggered damage. To prevent an already-improbable error, I recommend running the trigger "ClearDamageEvent (Checking Conditions)" after dealing triggered damage from within a damage event:
// - Set NextDamageType = DamageTypeWhatever
// - Unit - Cause...
// - Trigger - Run ClearDamageEvent (Checking Conditions)
//
// You can modify the DamageEventAmount and the DamageEventType from a "DamageModifierEvent Equal to 1.00" trigger.
// - If the amount is modified to negative, it will count as a heal.
// - If the amount is set to 0, no damage will be dealt.
//
// If you need to reference the original in-game damage, use the variable "DamageEventPrevAmt".
// 
//===========================================================================
// Programming note about "integer i" and "udg_DmgEvRecursionN": integer i
// ranges from -1 upwards. "udg_DmgEvRecursionN" ranges from 0 upwards.
// "integer i" is always 1 less than "udg_DmgEvRecursionN"
// 
function DmgEvResetVars takes nothing returns nothing
    local integer i = udg_DmgEvRecursionN - 2
    set udg_DmgEvRecursionN = i + 1
    if i >= 0 then
        set udg_DamageEventPrevAmt  = udg_LastDmgPrevAmount[i]
        set udg_DamageEventAmount   = udg_LastDmgValue[i]
        set udg_DamageEventSource   = udg_LastDmgSource[i]
        set udg_DamageEventTarget   = udg_LastDmgTarget[i]
        set udg_IsDamageSpell       = udg_LastDmgWasSpell[i]
        set udg_DamageEventType     = udg_LastDmgPrevType[i]
    endif
endfunction

function CheckDamagedLifeEvent takes boolean clear returns nothing
    if clear then
        set udg_NextDamageOverride = false
        set udg_NextDamageType = 0
    endif
    if udg_DmgEvTrig != null then
        call DestroyTrigger(udg_DmgEvTrig)
        set udg_DmgEvTrig = null
        if udg_IsDamageSpell then
            call SetWidgetLife(udg_DamageEventTarget, RMaxBJ(udg_LastDamageHP, 0.41))
            if udg_LastDamageHP <= 0.405 then
                if udg_DamageEventType < 0 then
                    call SetUnitExploded(udg_DamageEventTarget, true)
                endif
                //Kill the unit
                call DisableTrigger(udg_DamageEventTrigger)
                call UnitDamageTarget(udg_DamageEventSource, udg_DamageEventTarget, -999, false, false, null, DAMAGE_TYPE_UNIVERSAL, null)
                call EnableTrigger(udg_DamageEventTrigger)
            endif
        elseif GetUnitAbilityLevel(udg_DamageEventTarget, udg_DamageBlockingAbility) > 0 then
            call UnitRemoveAbility(udg_DamageEventTarget, udg_DamageBlockingAbility)
            call SetWidgetLife(udg_DamageEventTarget, udg_LastDamageHP)
        endif
        if udg_DamageEventAmount != 0.00 and not udg_HideDamageFrom[GetUnitUserData(udg_DamageEventSource)] then
            set udg_AfterDamageEvent = 0.00
            set udg_AfterDamageEvent = 1.00
            set udg_AfterDamageEvent = 0.00
        endif
        call DmgEvResetVars()
    endif
endfunction
    
function DmgEvOnAOEEnd takes nothing returns nothing
    if udg_DamageEventAOE > 1 then
        set udg_AOEDamageEvent = 0.00
        set udg_AOEDamageEvent = 1.00
        set udg_AOEDamageEvent = 0.00
        set udg_DamageEventAOE = 1
    endif
    set udg_DamageEventLevel = 1
    set udg_EnhancedDamageTarget = null
    call GroupClear(udg_DamageEventAOEGroup)
endfunction
    
function DmgEvOnExpire takes nothing returns nothing
    set udg_DmgEvStarted = false
    call CheckDamagedLifeEvent(true)
    //Reset things so they don't perpetuate for AoE/Level target detection
    call DmgEvOnAOEEnd()
    set udg_DamageEventTarget = null
    set udg_DamageEventSource = null
endfunction

function PreCheckDamagedLifeEvent takes nothing returns boolean
    call CheckDamagedLifeEvent(true)
    return false
endfunction

function OnUnitDamage takes nothing returns boolean
    local boolean override = udg_DamageEventOverride
    local integer i
    local integer e = udg_DamageEventLevel
    local integer a = udg_DamageEventAOE
    local string s
    local real prevAmount
    local real life
    local real prevLife
    local unit u
    local unit f
    call CheckDamagedLifeEvent(false) //in case the unit state event failed and the 0.00 second timer hasn't yet expired
    set i = udg_DmgEvRecursionN - 1 //Had to be moved here due to false recursion tracking
    if i < 0 then
        //Added 25 July 2017 to detect AOE damage or multiple single-target damage
        set u                       = udg_DamageEventTarget
        set f                       = udg_DamageEventSource
    elseif i < 16 then
        set udg_LastDmgPrevAmount[i]= udg_DamageEventPrevAmt
        set udg_LastDmgValue[i]     = udg_DamageEventAmount
        set udg_LastDmgSource[i]    = udg_DamageEventSource
        set udg_LastDmgTarget[i]    = udg_DamageEventTarget
        set udg_LastDmgWasSpell[i]  = udg_IsDamageSpell
        set udg_LastDmgPrevType[i]  = udg_DamageEventType
    else
        set s = "WARNING: Recursion error when dealing damage! Make sure when you deal damage from within a DamageEvent trigger, do it like this:\n\n"
        set s = s + "Trigger - Turn off (This Trigger)\n"
        set s = s + "Unit - Cause...\n"
        set s = s + "Trigger - Turn on (This Trigger)"
        
        //Delete the next couple of lines to disable the in-game recursion crash warnings
        call ClearTextMessages()
        call DisplayTimedTextToPlayer(GetLocalPlayer(), 0.00, 0.00, 999.00, s)
        return false
    endif
    set udg_DmgEvRecursionN     = i + 2
    set prevAmount              = GetEventDamage()
    set udg_DamageEventTarget   = GetTriggerUnit()
    set udg_DamageEventSource   = GetEventDamageSource()
    
    set udg_DamageEventAmount   = prevAmount
    
    set udg_DamageEventType     = udg_NextDamageType
    set udg_NextDamageType      = 0
    set udg_DamageEventOverride = udg_NextDamageOverride
    set udg_NextDamageOverride  = false
    
    if i < 0 then
        //Added 25 July 2017 to detect AOE damage or multiple single-target damage
        if udg_DamageEventType == 0 then
            if f == udg_DamageEventSource then
                //Source has damaged more than once
                if IsUnitInGroup(udg_DamageEventTarget, udg_DamageEventAOEGroup) then
                    //Added 5 August 2017 to improve tracking of enhanced damage against, say, Pulverize
                    set udg_DamageEventLevel = udg_DamageEventLevel + 1
                    set udg_EnhancedDamageTarget = udg_DamageEventTarget
                else
                    //Multiple targets hit by this source - flag as AOE
                    set udg_DamageEventAOE = udg_DamageEventAOE + 1
                endif
            else
                //New damage source - unflag everything
                set u = udg_DamageEventSource
                set udg_DamageEventSource = f
                call DmgEvOnAOEEnd()
                set udg_DamageEventSource = u
            endif
            call GroupAddUnit(udg_DamageEventAOEGroup, udg_DamageEventTarget)
        endif
        if not udg_DmgEvStarted then
            set udg_DmgEvStarted = true
            call TimerStart(udg_DmgEvTimer, 0.00, false, function DmgEvOnExpire)
        endif
    endif
    
    if prevAmount == 0.00 then
        if not udg_HideDamageFrom[GetUnitUserData(udg_DamageEventSource)] then
            set udg_DamageEventPrevAmt = 0.00
            set udg_DamageEvent = 0.00
            set udg_DamageEvent = 2.00
            set udg_DamageEvent = 0.00
        endif
        call DmgEvResetVars()
    else
        set u = udg_DamageEventTarget
        set udg_IsDamageSpell = prevAmount < 0.00
        if udg_IsDamageSpell then
            set prevAmount = -udg_DamageEventAmount
            set life = 1.00
            if IsUnitType(u, UNIT_TYPE_ETHEREAL) and not IsUnitType(u, UNIT_TYPE_HERO) then
                set life = life*udg_DAMAGE_FACTOR_ETHEREAL //1.67
            endif
            if GetUnitAbilityLevel(u, 'Aegr') > 0 then
                set life = life*udg_DAMAGE_FACTOR_ELUNES //0.80
            endif
            if udg_DmgEvBracers != 0 and IsUnitType(u, UNIT_TYPE_HERO) then
                //Inline of UnitHasItemOfTypeBJ without the potential handle ID leak.
                set i = 6
                loop
                    set i = i - 1
                    if GetItemTypeId(UnitItemInSlot(u, i)) == udg_DmgEvBracers then
                        set life = life*udg_DAMAGE_FACTOR_BRACERS //0.67
                        exitwhen true
                    endif
                    exitwhen i == 0
                endloop
            endif
            set udg_DamageEventAmount = prevAmount*life
        endif
        set udg_DamageEventPrevAmt = prevAmount
        set udg_DamageModifierEvent = 0.00
        if not udg_DamageEventOverride then
            set udg_DamageModifierEvent = 1.00
            if not udg_DamageEventOverride then
                set udg_DamageModifierEvent = 2.00
                set udg_DamageModifierEvent = 3.00
            endif
        endif
        set udg_DamageEventOverride = override
        if udg_DamageEventAmount > 0.00 then
            set udg_DamageModifierEvent = 4.00
        endif
        set udg_DamageModifierEvent = 0.00
        if not udg_HideDamageFrom[GetUnitUserData(udg_DamageEventSource)] then
            set udg_DamageEvent = 0.00
            set udg_DamageEvent = 1.00
            set udg_DamageEvent = 0.00
        endif
        call CheckDamagedLifeEvent(true) //in case the unit state event failed from a recursive damage event
        
        //All events have run and the damage amount is finalized.
        set life = GetWidgetLife(u)
        set udg_DmgEvTrig = CreateTrigger()
        call TriggerAddCondition(udg_DmgEvTrig, Filter(function PreCheckDamagedLifeEvent))
        if not udg_IsDamageSpell then
            if udg_DamageEventAmount != prevAmount then
                set life = life + prevAmount - udg_DamageEventAmount
                if GetUnitState(u, UNIT_STATE_MAX_LIFE) < life then
                    set udg_LastDamageHP = life - prevAmount
                    call UnitAddAbility(u, udg_DamageBlockingAbility)
                endif
                call SetWidgetLife(u, RMaxBJ(life, 0.42))
            endif
            call TriggerRegisterUnitStateEvent(udg_DmgEvTrig, u, UNIT_STATE_LIFE, LESS_THAN, RMaxBJ(0.41, life - prevAmount/2.00))
        else
            set udg_LastDamageHP = GetUnitState(u, UNIT_STATE_MAX_LIFE)
            set prevLife = life
            if life + prevAmount*0.75 > udg_LastDamageHP then
                set life = RMaxBJ(udg_LastDamageHP - prevAmount/2.00, 1.00)
                call SetWidgetLife(u, life)
                set life = (life + udg_LastDamageHP)/2.00
            else
                set life = life + prevAmount*0.50
            endif
            set udg_LastDamageHP = prevLife - (prevAmount - (prevAmount - udg_DamageEventAmount))
            call TriggerRegisterUnitStateEvent(udg_DmgEvTrig, u, UNIT_STATE_LIFE, GREATER_THAN, life)
        endif
    endif
    set u = null
    set f = null
    return false
endfunction

function CreateDmgEvTrg takes nothing returns nothing
    set udg_DamageEventTrigger = CreateTrigger()
    call TriggerAddCondition(udg_DamageEventTrigger, Filter(function OnUnitDamage))
endfunction

function SetupDmgEv takes nothing returns boolean
    local integer i = udg_UDex
    local unit u
    if udg_UnitIndexEvent == 1.00 then
        set u = udg_UDexUnits[i]
        if GetUnitAbilityLevel(u, 'Aloc') == 0 and TriggerEvaluate(gg_trg_Damage_Engine_Config) then
            set udg_UnitDamageRegistered[i] = true
            call TriggerRegisterUnitEvent(udg_DamageEventTrigger, u, EVENT_UNIT_DAMAGED)
            call UnitAddAbility(u, udg_SpellDamageAbility)
            call UnitMakeAbilityPermanent(u, true, udg_SpellDamageAbility)
        endif
        set u = null
    else
        set udg_HideDamageFrom[i] = false
        if udg_UnitDamageRegistered[i] then
            set udg_UnitDamageRegistered[i] = false
            set udg_DamageEventsWasted = udg_DamageEventsWasted + 1
            if udg_DamageEventsWasted == 32 then //After 32 registered units have been removed...
                set udg_DamageEventsWasted = 0
                
                //Rebuild the mass EVENT_UNIT_DAMAGED trigger:
                call DestroyTrigger(udg_DamageEventTrigger)
                call CreateDmgEvTrg()
                set i = udg_UDexNext[0]
                loop
                    exitwhen i == 0
                    if udg_UnitDamageRegistered[i] then
                        call TriggerRegisterUnitEvent(udg_DamageEventTrigger, udg_UDexUnits[i], EVENT_UNIT_DAMAGED)
                    endif
                    set i = udg_UDexNext[i]
                endloop
            endif
        endif
    endif
    return false
endfunction
    
//===========================================================================
function InitTrig_Damage_Engine takes nothing returns nothing
    local unit u = CreateUnit(Player(bj_PLAYER_NEUTRAL_EXTRA), 'uloc', 0, 0, 0)
    local integer i = bj_MAX_PLAYERS //Fixed in 3.8
    
    //Create this trigger with UnitIndexEvents in order add and remove units
    //as they are created or removed.
    local trigger t = CreateTrigger()
    call TriggerRegisterVariableEvent(t, "udg_UnitIndexEvent", EQUAL, 1.00)
    call TriggerRegisterVariableEvent(t, "udg_UnitIndexEvent", EQUAL, 2.00)
    call TriggerAddCondition(t, Filter(function SetupDmgEv))
    set t = null
    
    //Run the configuration trigger to set all configurables:
    if gg_trg_Damage_Engine_Config == null then
        //It's possible this InitTrig_ function ran first, in which case use ExecuteFunc.
        call ExecuteFunc("Trig_Damage_Engine_Config_Actions")
    else
        call TriggerExecute(gg_trg_Damage_Engine_Config)
    endif
    
    //Create trigger for storing all EVENT_UNIT_DAMAGED events.
    call CreateDmgEvTrg()
    
    //Create GUI-friendly trigger for cleaning up after UnitDamageTarget.
    set udg_ClearDamageEvent = CreateTrigger()
    call TriggerAddCondition(udg_ClearDamageEvent, Filter(function PreCheckDamagedLifeEvent))
    
    //Disable SpellDamageAbility for every player.
    loop
        set i = i - 1
        call SetPlayerAbilityAvailable(Player(i), udg_SpellDamageAbility, false)
        exitwhen i == 0
    endloop
    
    //Preload abilities.
    call UnitAddAbility(u, udg_DamageBlockingAbility)
    call UnitAddAbility(u, udg_SpellDamageAbility)
    call RemoveUnit(u)
    set u = null
endfunction
//===========================================================================
// Trigger: Acquires a Satchel Charge
//===========================================================================
function Trig_Acquires_a_Satchel_Charge_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetManipulatingUnit()) == 'h001' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'I00A' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Acquires_a_Satchel_Charge_Actions takes nothing returns nothing
    call UnitAddAbilityBJ( 'A00D', GetManipulatingUnit() )
endfunction

//===========================================================================
function InitTrig_Acquires_a_Satchel_Charge takes nothing returns nothing
    set gg_trg_Acquires_a_Satchel_Charge = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Acquires_a_Satchel_Charge, EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_Acquires_a_Satchel_Charge, Condition( function Trig_Acquires_a_Satchel_Charge_Conditions ) )
    call TriggerAddAction( gg_trg_Acquires_a_Satchel_Charge, function Trig_Acquires_a_Satchel_Charge_Actions )
endfunction

//===========================================================================
// Trigger: Loses Bounty
//===========================================================================
function Trig_Loses_Bounty_Func002C takes nothing returns boolean
    if ( ( GetItemTypeId(GetLastRemovedItem()) == 'I003' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetLastRemovedItem()) == 'I004' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetLastRemovedItem()) == 'I005' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetLastRemovedItem()) == 'I009' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetLastRemovedItem()) == 'I002' ) ) then
        return true
    endif
    return false
endfunction

function Trig_Loses_Bounty_Conditions takes nothing returns boolean
    if ( not Trig_Loses_Bounty_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_Loses_Bounty_Actions takes nothing returns nothing
    call RemoveItem( GetLastRemovedItem() )
endfunction

//===========================================================================
function InitTrig_Loses_Bounty takes nothing returns nothing
    set gg_trg_Loses_Bounty = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Loses_Bounty, EVENT_PLAYER_UNIT_DROP_ITEM )
    call TriggerAddCondition( gg_trg_Loses_Bounty, Condition( function Trig_Loses_Bounty_Conditions ) )
    call TriggerAddAction( gg_trg_Loses_Bounty, function Trig_Loses_Bounty_Actions )
endfunction

//===========================================================================
// Trigger: Acquires a Flame Arrow
//===========================================================================
function Trig_Acquires_a_Flame_Arrow_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetManipulatingUnit()) == 'n000' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(GetManipulatedItem()) == 'I00B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Acquires_a_Flame_Arrow_Actions takes nothing returns nothing
    call UnitAddAbilityBJ( 'A00A', GetManipulatingUnit() )
endfunction

//===========================================================================
function InitTrig_Acquires_a_Flame_Arrow takes nothing returns nothing
    set gg_trg_Acquires_a_Flame_Arrow = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Acquires_a_Flame_Arrow, EVENT_PLAYER_UNIT_PICKUP_ITEM )
    call TriggerAddCondition( gg_trg_Acquires_a_Flame_Arrow, Condition( function Trig_Acquires_a_Flame_Arrow_Conditions ) )
    call TriggerAddAction( gg_trg_Acquires_a_Flame_Arrow, function Trig_Acquires_a_Flame_Arrow_Actions )
endfunction

//===========================================================================
// Trigger: DwarfDrops
//===========================================================================
function Trig_DwarfDrops_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetManipulatingUnit()) == 'h001' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(GetLastRemovedItem()) == 'I00A' ) ) then
        return false
    endif
    return true
endfunction

function Trig_DwarfDrops_Func002C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetManipulatingUnit(), 'I00A') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_DwarfDrops_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.01 )
    if ( Trig_DwarfDrops_Func002C() ) then
        call DoNothing(  )
    else
        call UnitRemoveAbilityBJ( 'A00D', GetManipulatingUnit() )
    endif
endfunction

//===========================================================================
function InitTrig_DwarfDrops takes nothing returns nothing
    set gg_trg_DwarfDrops = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_DwarfDrops, EVENT_PLAYER_UNIT_DROP_ITEM )
    call TriggerAddCondition( gg_trg_DwarfDrops, Condition( function Trig_DwarfDrops_Conditions ) )
    call TriggerAddAction( gg_trg_DwarfDrops, function Trig_DwarfDrops_Actions )
endfunction

//===========================================================================
// Trigger: BowmanDrops
//===========================================================================
function Trig_BowmanDrops_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetManipulatingUnit()) == 'n000' ) ) then
        return false
    endif
    if ( not ( GetItemTypeId(GetLastRemovedItem()) == 'I00B' ) ) then
        return false
    endif
    return true
endfunction

function Trig_BowmanDrops_Func002C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetManipulatingUnit(), 'I00B') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BowmanDrops_Actions takes nothing returns nothing
    call TriggerSleepAction( 0.01 )
    if ( Trig_BowmanDrops_Func002C() ) then
        call DoNothing(  )
    else
        call UnitRemoveAbilityBJ( 'A00A', GetManipulatingUnit() )
    endif
endfunction

//===========================================================================
function InitTrig_BowmanDrops takes nothing returns nothing
    set gg_trg_BowmanDrops = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_BowmanDrops, EVENT_PLAYER_UNIT_DROP_ITEM )
    call TriggerAddCondition( gg_trg_BowmanDrops, Condition( function Trig_BowmanDrops_Conditions ) )
    call TriggerAddAction( gg_trg_BowmanDrops, function Trig_BowmanDrops_Actions )
endfunction

//===========================================================================
// Trigger: Cliff Hint
//===========================================================================
function Trig_Cliff_Hint_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cliff_Hint_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_399", GetRectCenter(gg_rct_Cliff_Hint), null, "TRIGSTR_400", bj_TIMETYPE_ADD, 0, true )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Cliff1), 3.00 )
endfunction

//===========================================================================
function InitTrig_Cliff_Hint takes nothing returns nothing
    set gg_trg_Cliff_Hint = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Cliff_Hint, gg_rct_Cliff_Hint )
    call TriggerAddCondition( gg_trg_Cliff_Hint, Condition( function Trig_Cliff_Hint_Conditions ) )
    call TriggerAddAction( gg_trg_Cliff_Hint, function Trig_Cliff_Hint_Actions )
endfunction

//===========================================================================
// Trigger: Bowman enter cliff 1
//===========================================================================
function Trig_Bowman_enter_cliff_1_Func005001 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'n000' )
endfunction

function Trig_Bowman_enter_cliff_1_Func005002 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'n001' )
endfunction

function Trig_Bowman_enter_cliff_1_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Bowman_enter_cliff_1_Func005001(), Trig_Bowman_enter_cliff_1_Func005002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_enter_cliff_1_Actions takes nothing returns nothing
    call SetUnitAcquireRangeBJ( GetTriggerUnit(), 1700.00 )
    call BlzSetUnitWeaponRealFieldBJ( GetTriggerUnit(), UNIT_WEAPON_RF_ATTACK_RANGE, 1, 400.00 )
    call UnitAddAbilityBJ( 'A00T', GetTriggerUnit() )
    call SetUnitAbilityLevelSwapped( 'A00A', GetTriggerUnit(), 2 )
endfunction

//===========================================================================
function InitTrig_Bowman_enter_cliff_1 takes nothing returns nothing
    set gg_trg_Bowman_enter_cliff_1 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Bowman_enter_cliff_1, gg_rct_Cliff1 )
    call TriggerAddCondition( gg_trg_Bowman_enter_cliff_1, Condition( function Trig_Bowman_enter_cliff_1_Conditions ) )
    call TriggerAddAction( gg_trg_Bowman_enter_cliff_1, function Trig_Bowman_enter_cliff_1_Actions )
endfunction

//===========================================================================
// Trigger: Bowman leaves cliff 1
//===========================================================================
function Trig_Bowman_leaves_cliff_1_Func005001 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'n000' )
endfunction

function Trig_Bowman_leaves_cliff_1_Func005002 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'n001' )
endfunction

function Trig_Bowman_leaves_cliff_1_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Bowman_leaves_cliff_1_Func005001(), Trig_Bowman_leaves_cliff_1_Func005002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_leaves_cliff_1_Actions takes nothing returns nothing
    call SetUnitAcquireRangeBJ( GetTriggerUnit(), 1300.00 )
    call BlzSetUnitWeaponRealFieldBJ( GetTriggerUnit(), UNIT_WEAPON_RF_ATTACK_RANGE, 1, -400.00 )
    call UnitRemoveAbilityBJ( 'A00T', GetTriggerUnit() )
    call SetUnitAbilityLevelSwapped( 'A00A', GetTriggerUnit(), 1 )
endfunction

//===========================================================================
function InitTrig_Bowman_leaves_cliff_1 takes nothing returns nothing
    set gg_trg_Bowman_leaves_cliff_1 = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_Bowman_leaves_cliff_1, gg_rct_Cliff1 )
    call TriggerAddCondition( gg_trg_Bowman_leaves_cliff_1, Condition( function Trig_Bowman_leaves_cliff_1_Conditions ) )
    call TriggerAddAction( gg_trg_Bowman_leaves_cliff_1, function Trig_Bowman_leaves_cliff_1_Actions )
endfunction

//===========================================================================
// Trigger: Dwarf enter cliff 1
//===========================================================================
function Trig_Dwarf_enter_cliff_1_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h001' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_enter_cliff_1_Actions takes nothing returns nothing
    call SetUnitAcquireRangeBJ( GetTriggerUnit(), 800.00 )
    call BlzSetUnitWeaponRealFieldBJ( GetTriggerUnit(), UNIT_WEAPON_RF_ATTACK_RANGE, 1, 200.00 )
    call UnitAddAbilityBJ( 'A00P', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Dwarf_enter_cliff_1 takes nothing returns nothing
    set gg_trg_Dwarf_enter_cliff_1 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Dwarf_enter_cliff_1, gg_rct_Cliff1 )
    call TriggerAddCondition( gg_trg_Dwarf_enter_cliff_1, Condition( function Trig_Dwarf_enter_cliff_1_Conditions ) )
    call TriggerAddAction( gg_trg_Dwarf_enter_cliff_1, function Trig_Dwarf_enter_cliff_1_Actions )
endfunction

//===========================================================================
// Trigger: Dwarf leaves cliff 1
//===========================================================================
function Trig_Dwarf_leaves_cliff_1_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h001' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_leaves_cliff_1_Actions takes nothing returns nothing
    call SetUnitAcquireRangeBJ( GetTriggerUnit(), 600.00 )
    call BlzSetUnitWeaponRealFieldBJ( GetTriggerUnit(), UNIT_WEAPON_RF_ATTACK_RANGE, 1, -200.00 )
    call UnitRemoveAbilityBJ( 'A00P', GetTriggerUnit() )
endfunction

//===========================================================================
function InitTrig_Dwarf_leaves_cliff_1 takes nothing returns nothing
    set gg_trg_Dwarf_leaves_cliff_1 = CreateTrigger(  )
    call TriggerRegisterLeaveRectSimple( gg_trg_Dwarf_leaves_cliff_1, gg_rct_Cliff1 )
    call TriggerAddCondition( gg_trg_Dwarf_leaves_cliff_1, Condition( function Trig_Dwarf_leaves_cliff_1_Conditions ) )
    call TriggerAddAction( gg_trg_Dwarf_leaves_cliff_1, function Trig_Dwarf_leaves_cliff_1_Actions )
endfunction

//===========================================================================
// Trigger: Dark Bounty
//===========================================================================
function Trig_Dark_Bounty_Func003001 takes nothing returns boolean
    return ( GetOwningPlayer(GetDyingUnit()) == Player(0) )
endfunction

function Trig_Dark_Bounty_Func003002 takes nothing returns boolean
    return ( GetOwningPlayer(GetDyingUnit()) == Player(9) )
endfunction

function Trig_Dark_Bounty_Conditions takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetKillingUnitBJ()) == Player(20) ) ) then
        return false
    endif
    if ( not GetBooleanOr( Trig_Dark_Bounty_Func003001(), Trig_Dark_Bounty_Func003002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Bounty_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I004') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Bounty_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Bounty_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Bounty_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dark_Bounty_Actions takes nothing returns nothing
    if ( Trig_Dark_Bounty_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I009') )
        call UnitAddItemByIdSwapped( 'I002', GetKillingUnitBJ() )
    else
        if ( Trig_Dark_Bounty_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I002') )
            call UnitAddItemByIdSwapped( 'I003', GetKillingUnitBJ() )
        else
            if ( Trig_Dark_Bounty_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I003') )
                call UnitAddItemByIdSwapped( 'I004', GetKillingUnitBJ() )
            else
                if ( Trig_Dark_Bounty_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', GetKillingUnitBJ() )
                else
                    call UnitAddItemByIdSwapped( 'I009', GetKillingUnitBJ() )
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Dark_Bounty takes nothing returns nothing
    set gg_trg_Dark_Bounty = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Dark_Bounty, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Dark_Bounty, Condition( function Trig_Dark_Bounty_Conditions ) )
    call TriggerAddAction( gg_trg_Dark_Bounty, function Trig_Dark_Bounty_Actions )
endfunction

//===========================================================================
// Trigger: Warrior bounty
//===========================================================================
function Trig_Warrior_bounty_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetKillingUnitBJ()) == 'h000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warrior_bounty_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I005') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warrior_bounty_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I005') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warrior_bounty_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warrior_bounty_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warrior_bounty_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetKillingUnitBJ(), 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Warrior_bounty_Actions takes nothing returns nothing
    if ( Trig_Warrior_bounty_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I009') )
        call UnitAddItemByIdSwapped( 'I002', GetKillingUnitBJ() )
    else
        if ( Trig_Warrior_bounty_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I002') )
            call UnitAddItemByIdSwapped( 'I003', GetKillingUnitBJ() )
        else
            if ( Trig_Warrior_bounty_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I003') )
                call UnitAddItemByIdSwapped( 'I004', GetKillingUnitBJ() )
            else
                if ( Trig_Warrior_bounty_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', GetKillingUnitBJ() )
                else
                    if ( Trig_Warrior_bounty_Func001Func001Func001Func001Func001C() ) then
                        call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I009') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I004') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(), 'I005') )
                        call UnitAddItemByIdSwapped( 'I000', GetKillingUnitBJ() )
                    else
                        call UnitAddItemByIdSwapped( 'I009', GetKillingUnitBJ() )
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Warrior_bounty takes nothing returns nothing
    set gg_trg_Warrior_bounty = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Warrior_bounty, Player(20), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Warrior_bounty, Condition( function Trig_Warrior_bounty_Conditions ) )
    call TriggerAddAction( gg_trg_Warrior_bounty, function Trig_Warrior_bounty_Actions )
endfunction

//===========================================================================
// Trigger: Dwarf bounty
//===========================================================================
function Trig_Dwarf_bounty_Func002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'h001' )
endfunction

function Trig_Dwarf_bounty_Func002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'h002' )
endfunction

function Trig_Dwarf_bounty_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Dwarf_bounty_Func002001(), Trig_Dwarf_bounty_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_bounty_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I005') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_bounty_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I005') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_bounty_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_bounty_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_bounty_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_bounty_Actions takes nothing returns nothing
    if ( Trig_Dwarf_bounty_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I009') )
        call UnitAddItemByIdSwapped( 'I002', udg_UnitDwarf1 )
    else
        if ( Trig_Dwarf_bounty_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I002') )
            call UnitAddItemByIdSwapped( 'I003', udg_UnitDwarf1 )
        else
            if ( Trig_Dwarf_bounty_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I003') )
                call UnitAddItemByIdSwapped( 'I004', udg_UnitDwarf1 )
            else
                if ( Trig_Dwarf_bounty_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', udg_UnitDwarf1 )
                else
                    if ( Trig_Dwarf_bounty_Func001Func001Func001Func001Func001C() ) then
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I004') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I005') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I009') )
                        call UnitAddItemByIdSwapped( 'I000', udg_UnitDwarf1 )
                    else
                        call UnitAddItemByIdSwapped( 'I009', udg_UnitDwarf1 )
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Dwarf_bounty takes nothing returns nothing
    set gg_trg_Dwarf_bounty = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Dwarf_bounty, Player(20), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Dwarf_bounty, Condition( function Trig_Dwarf_bounty_Conditions ) )
    call TriggerAddAction( gg_trg_Dwarf_bounty, function Trig_Dwarf_bounty_Actions )
endfunction

//===========================================================================
// Trigger: Bowman bounty1
//===========================================================================
function Trig_Bowman_bounty1_Func002001 takes nothing returns boolean
    return ( GetKillingUnitBJ() == udg_UnitBowman1 )
endfunction

function Trig_Bowman_bounty1_Func002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o004' )
endfunction

function Trig_Bowman_bounty1_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Bowman_bounty1_Func002001(), Trig_Bowman_bounty1_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty1_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I005') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty1_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I005') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty1_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty1_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty1_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman1, 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty1_Actions takes nothing returns nothing
    if ( Trig_Bowman_bounty1_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I009') )
        call UnitAddItemByIdSwapped( 'I002', udg_UnitBowman1 )
    else
        if ( Trig_Bowman_bounty1_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I002') )
            call UnitAddItemByIdSwapped( 'I003', udg_UnitBowman1 )
        else
            if ( Trig_Bowman_bounty1_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I003') )
                call UnitAddItemByIdSwapped( 'I004', udg_UnitBowman1 )
            else
                if ( Trig_Bowman_bounty1_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', udg_UnitBowman1 )
                else
                    if ( Trig_Bowman_bounty1_Func001Func001Func001Func001Func001C() ) then
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I009') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I004') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I005') )
                        call UnitAddItemByIdSwapped( 'I000', udg_UnitBowman1 )
                    else
                        call UnitAddItemByIdSwapped( 'I009', udg_UnitBowman1 )
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Bowman_bounty1 takes nothing returns nothing
    set gg_trg_Bowman_bounty1 = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Bowman_bounty1, Player(20), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Bowman_bounty1, Condition( function Trig_Bowman_bounty1_Conditions ) )
    call TriggerAddAction( gg_trg_Bowman_bounty1, function Trig_Bowman_bounty1_Actions )
endfunction

//===========================================================================
// Trigger: Bowman bounty2
//===========================================================================
function Trig_Bowman_bounty2_Func002001 takes nothing returns boolean
    return ( GetKillingUnitBJ() == udg_UnitBowman2 )
endfunction

function Trig_Bowman_bounty2_Func002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o002' )
endfunction

function Trig_Bowman_bounty2_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Bowman_bounty2_Func002001(), Trig_Bowman_bounty2_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty2_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I005') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty2_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I005') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty2_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty2_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty2_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman2, 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty2_Actions takes nothing returns nothing
    if ( Trig_Bowman_bounty2_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I009') )
        call UnitAddItemByIdSwapped( 'I002', udg_UnitBowman2 )
    else
        if ( Trig_Bowman_bounty2_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I002') )
            call UnitAddItemByIdSwapped( 'I003', udg_UnitBowman2 )
        else
            if ( Trig_Bowman_bounty2_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I003') )
                call UnitAddItemByIdSwapped( 'I004', udg_UnitBowman2 )
            else
                if ( Trig_Bowman_bounty2_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', udg_UnitBowman2 )
                else
                    if ( Trig_Bowman_bounty2_Func001Func001Func001Func001Func001C() ) then
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I009') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I004') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I005') )
                        call UnitAddItemByIdSwapped( 'I000', udg_UnitBowman2 )
                    else
                        call UnitAddItemByIdSwapped( 'I009', udg_UnitBowman2 )
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Bowman_bounty2 takes nothing returns nothing
    set gg_trg_Bowman_bounty2 = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Bowman_bounty2, Player(20), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Bowman_bounty2, Condition( function Trig_Bowman_bounty2_Conditions ) )
    call TriggerAddAction( gg_trg_Bowman_bounty2, function Trig_Bowman_bounty2_Actions )
endfunction

//===========================================================================
// Trigger: Bowman bounty3
//===========================================================================
function Trig_Bowman_bounty3_Func002001 takes nothing returns boolean
    return ( GetKillingUnitBJ() == udg_UnitBowman3 )
endfunction

function Trig_Bowman_bounty3_Func002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o003' )
endfunction

function Trig_Bowman_bounty3_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Bowman_bounty3_Func002001(), Trig_Bowman_bounty3_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty3_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I005') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty3_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I005') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty3_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty3_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty3_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman3, 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty3_Actions takes nothing returns nothing
    if ( Trig_Bowman_bounty3_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I009') )
        call UnitAddItemByIdSwapped( 'I002', udg_UnitBowman3 )
    else
        if ( Trig_Bowman_bounty3_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I002') )
            call UnitAddItemByIdSwapped( 'I003', udg_UnitBowman3 )
        else
            if ( Trig_Bowman_bounty3_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I003') )
                call UnitAddItemByIdSwapped( 'I004', udg_UnitBowman3 )
            else
                if ( Trig_Bowman_bounty3_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', udg_UnitBowman3 )
                else
                    if ( Trig_Bowman_bounty3_Func001Func001Func001Func001Func001C() ) then
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I009') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I004') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I005') )
                        call UnitAddItemByIdSwapped( 'I000', udg_UnitBowman3 )
                    else
                        call UnitAddItemByIdSwapped( 'I009', udg_UnitBowman3 )
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Bowman_bounty3 takes nothing returns nothing
    set gg_trg_Bowman_bounty3 = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Bowman_bounty3, Player(20), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Bowman_bounty3, Condition( function Trig_Bowman_bounty3_Conditions ) )
    call TriggerAddAction( gg_trg_Bowman_bounty3, function Trig_Bowman_bounty3_Actions )
endfunction

//===========================================================================
// Trigger: Bowman bounty4
//===========================================================================
function Trig_Bowman_bounty4_Func002001 takes nothing returns boolean
    return ( GetKillingUnitBJ() == udg_UnitBowman4 )
endfunction

function Trig_Bowman_bounty4_Func002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o000' )
endfunction

function Trig_Bowman_bounty4_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Bowman_bounty4_Func002001(), Trig_Bowman_bounty4_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty4_Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I005') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty4_Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I004') == true ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I005') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty4_Func001Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I003') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty4_Func001Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I002') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty4_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitBowman4, 'I009') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Bowman_bounty4_Actions takes nothing returns nothing
    if ( Trig_Bowman_bounty4_Func001C() ) then
        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I009') )
        call UnitAddItemByIdSwapped( 'I002', udg_UnitBowman4 )
    else
        if ( Trig_Bowman_bounty4_Func001Func001C() ) then
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I002') )
            call UnitAddItemByIdSwapped( 'I003', udg_UnitBowman4 )
        else
            if ( Trig_Bowman_bounty4_Func001Func001Func001C() ) then
                call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I003') )
                call UnitAddItemByIdSwapped( 'I004', udg_UnitBowman4 )
            else
                if ( Trig_Bowman_bounty4_Func001Func001Func001Func001C() ) then
                    call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I004') )
                    call UnitAddItemByIdSwapped( 'I005', udg_UnitBowman4 )
                else
                    if ( Trig_Bowman_bounty4_Func001Func001Func001Func001Func001C() ) then
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I009') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I004') )
                        call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I005') )
                        call UnitAddItemByIdSwapped( 'I000', udg_UnitBowman4 )
                    else
                        call UnitAddItemByIdSwapped( 'I009', udg_UnitBowman4 )
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Bowman_bounty4 takes nothing returns nothing
    set gg_trg_Bowman_bounty4 = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Bowman_bounty4, Player(20), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Bowman_bounty4, Condition( function Trig_Bowman_bounty4_Conditions ) )
    call TriggerAddAction( gg_trg_Bowman_bounty4, function Trig_Bowman_bounty4_Actions )
endfunction

//===========================================================================
// Trigger: RemoveItens
//===========================================================================
function Trig_RemoveItens_Func002C takes nothing returns boolean
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I009' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I002' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I003' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I004' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I005' ) ) then
        return true
    endif
    if ( ( GetItemTypeId(GetManipulatedItem()) == 'I000' ) ) then
        return true
    endif
    return false
endfunction

function Trig_RemoveItens_Conditions takes nothing returns boolean
    if ( not Trig_RemoveItens_Func002C() ) then
        return false
    endif
    return true
endfunction

function Trig_RemoveItens_Actions takes nothing returns nothing
    call RemoveItem( GetManipulatedItem() )
endfunction

//===========================================================================
function InitTrig_RemoveItens takes nothing returns nothing
    set gg_trg_RemoveItens = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_RemoveItens, EVENT_PLAYER_UNIT_DROP_ITEM )
    call TriggerAddCondition( gg_trg_RemoveItens, Condition( function Trig_RemoveItens_Conditions ) )
    call TriggerAddAction( gg_trg_RemoveItens, function Trig_RemoveItens_Actions )
endfunction

//===========================================================================
// Trigger: RegionDwarf
//===========================================================================
function Trig_RegionDwarf_Actions takes nothing returns nothing
    call MoveRectToLoc( gg_rct_RegionDwarfMines, GetUnitLoc(udg_UnitDwarf1) )
endfunction

//===========================================================================
function InitTrig_RegionDwarf takes nothing returns nothing
    set gg_trg_RegionDwarf = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_RegionDwarf, 5.00 )
    call TriggerAddAction( gg_trg_RegionDwarf, function Trig_RegionDwarf_Actions )
endfunction

//===========================================================================
// Trigger: Place Mine Copy
//===========================================================================
function Trig_Place_Mine_Copy_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00D' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Place_Mine_Copy_Func001Func001C takes nothing returns boolean
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I00A')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Place_Mine_Copy_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetSpellAbilityUnit(), 'I00A') == true ) ) then
        return false
    endif
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I00A')) > 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Place_Mine_Copy_Actions takes nothing returns nothing
    if ( Trig_Place_Mine_Copy_Func001C() ) then
        set udg_PointMine = GetSpellTargetLoc()
        call CreateNUnitsAtLoc( 1, 'n007', Player(23), udg_PointMine, bj_UNIT_FACING )
        call SetItemCharges( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I00A'), ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I00A')) - 1 ) )
        call RemoveLocation(udg_PointMine)
    else
        if ( Trig_Place_Mine_Copy_Func001Func001C() ) then
            set udg_PointMine = GetSpellTargetLoc()
            call CreateNUnitsAtLoc( 1, 'n007', Player(23), udg_PointMine, bj_UNIT_FACING )
            call RemoveLocation(udg_PointMine)
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I00A') )
            call UnitRemoveAbilityBJ( 'A00D', udg_UnitDwarf1 )
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Place_Mine_Copy takes nothing returns nothing
    set gg_trg_Place_Mine_Copy = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Place_Mine_Copy, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Place_Mine_Copy, Condition( function Trig_Place_Mine_Copy_Conditions ) )
    call TriggerAddAction( gg_trg_Place_Mine_Copy, function Trig_Place_Mine_Copy_Actions )
endfunction

//===========================================================================
// Trigger: MineExplode
//===========================================================================
function Trig_MineExplode_Func002001001 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o004' )
endfunction

function Trig_MineExplode_Func002001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o002' )
endfunction

function Trig_MineExplode_Func002001002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o003' )
endfunction

function Trig_MineExplode_Func002001002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'o000' )
endfunction

function Trig_MineExplode_Func002001002002 takes nothing returns boolean
    return GetBooleanOr( Trig_MineExplode_Func002001002002001(), Trig_MineExplode_Func002001002002002() )
endfunction

function Trig_MineExplode_Func002001002 takes nothing returns boolean
    return GetBooleanOr( Trig_MineExplode_Func002001002001(), Trig_MineExplode_Func002001002002() )
endfunction

function Trig_MineExplode_Func002001 takes nothing returns boolean
    return GetBooleanOr( Trig_MineExplode_Func002001001(), Trig_MineExplode_Func002001002() )
endfunction

function Trig_MineExplode_Func002002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'h001' )
endfunction

function Trig_MineExplode_Func002002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetKillingUnitBJ()) == 'h002' )
endfunction

function Trig_MineExplode_Func002002 takes nothing returns boolean
    return GetBooleanOr( Trig_MineExplode_Func002002001(), Trig_MineExplode_Func002002002() )
endfunction

function Trig_MineExplode_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetDyingUnit()) == 'n007' ) ) then
        return false
    endif
    if ( not GetBooleanOr( Trig_MineExplode_Func002001(), Trig_MineExplode_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_MineExplode_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h002', Player(23), GetUnitLoc(GetDyingUnit()), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", GetUnitLoc(GetDyingUnit()) )
    call AddSpecialEffectLocBJ( GetUnitLoc(GetDyingUnit()), "Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl" )
    call BlzSetSpecialEffectScale( GetLastCreatedEffectBJ(), 0.80 )
    call TriggerSleepAction( 2 )
    call DestroyEffectBJ( GetLastCreatedEffectBJ() )
endfunction

//===========================================================================
function InitTrig_MineExplode takes nothing returns nothing
    set gg_trg_MineExplode = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_MineExplode, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_MineExplode, Condition( function Trig_MineExplode_Conditions ) )
    call TriggerAddAction( gg_trg_MineExplode, function Trig_MineExplode_Actions )
endfunction

//===========================================================================
// Trigger: Dwarf Bash
//===========================================================================
function Trig_Dwarf_Bash_Func001001 takes nothing returns boolean
    return ( GetUnitTypeId(udg_DamageEventSource) == 'h001' )
endfunction

function Trig_Dwarf_Bash_Func001002 takes nothing returns boolean
    return ( GetUnitTypeId(udg_DamageEventSource) == 'h002' )
endfunction

function Trig_Dwarf_Bash_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Dwarf_Bash_Func001001(), Trig_Dwarf_Bash_Func001002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Bash_Actions takes nothing returns nothing
    set udg_UnitTargetBashDwarf = udg_DamageEventTarget
    call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitTargetBashDwarf), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssueImmediateOrderBJ( GetLastCreatedUnit(), "stomp" )
endfunction

//===========================================================================
function InitTrig_Dwarf_Bash takes nothing returns nothing
    set gg_trg_Dwarf_Bash = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_Dwarf_Bash, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_Dwarf_Bash, Condition( function Trig_Dwarf_Bash_Conditions ) )
    call TriggerAddAction( gg_trg_Dwarf_Bash, function Trig_Dwarf_Bash_Actions )
endfunction

//===========================================================================
// Trigger: Dwarf Dies with Mines
//===========================================================================
function Trig_Dwarf_Dies_with_Mines_Conditions takes nothing returns boolean
    if ( not ( GetDyingUnit() == udg_UnitDwarf1 ) ) then
        return false
    endif
    if ( not ( UnitHasItemOfTypeBJ(udg_UnitDwarf1, 'I00A') == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_IntegerMine == 6 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Func002Func001Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_IntegerMine == 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Func002Func001Func001Func001C takes nothing returns boolean
    if ( not ( udg_IntegerMine == 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Func002Func001Func001C takes nothing returns boolean
    if ( not ( udg_IntegerMine == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Func002Func001C takes nothing returns boolean
    if ( not ( udg_IntegerMine == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Func002C takes nothing returns boolean
    if ( not ( udg_IntegerMine == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Dwarf_Dies_with_Mines_Actions takes nothing returns nothing
    set udg_IntegerMine = GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitDwarf1, 'I00A'))
    if ( Trig_Dwarf_Dies_with_Mines_Func002C() ) then
        call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
    else
        if ( Trig_Dwarf_Dies_with_Mines_Func002Func001C() ) then
            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
            call TriggerSleepAction( 0.10 )
            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
        else
            if ( Trig_Dwarf_Dies_with_Mines_Func002Func001Func001C() ) then
                call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                call TriggerSleepAction( 0.10 )
                call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                call TriggerSleepAction( 0.10 )
                call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
            else
                if ( Trig_Dwarf_Dies_with_Mines_Func002Func001Func001Func001C() ) then
                    call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                    call TriggerSleepAction( 0.10 )
                    call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                    call TriggerSleepAction( 0.10 )
                    call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                    call TriggerSleepAction( 0.10 )
                    call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                else
                    if ( Trig_Dwarf_Dies_with_Mines_Func002Func001Func001Func001Func001C() ) then
                        call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                        call TriggerSleepAction( 0.10 )
                        call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                        call TriggerSleepAction( 0.10 )
                        call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                        call TriggerSleepAction( 0.10 )
                        call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                        call TriggerSleepAction( 0.10 )
                        call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                    else
                        if ( Trig_Dwarf_Dies_with_Mines_Func002Func001Func001Func001Func001Func001C() ) then
                            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                            call TriggerSleepAction( 0.10 )
                            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                            call TriggerSleepAction( 0.10 )
                            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                            call TriggerSleepAction( 0.10 )
                            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                            call TriggerSleepAction( 0.10 )
                            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                            call TriggerSleepAction( 0.10 )
                            call CreateNUnitsAtLoc( 1, 'n007', Player(23), GetRandomLocInRect(gg_rct_RegionDwarfMines), bj_UNIT_FACING )
                        else
                        endif
                    endif
                endif
            endif
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Dwarf_Dies_with_Mines takes nothing returns nothing
    set gg_trg_Dwarf_Dies_with_Mines = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Dwarf_Dies_with_Mines, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Dwarf_Dies_with_Mines, Condition( function Trig_Dwarf_Dies_with_Mines_Conditions ) )
    call TriggerAddAction( gg_trg_Dwarf_Dies_with_Mines, function Trig_Dwarf_Dies_with_Mines_Actions )
endfunction

//===========================================================================
// Trigger: SkeletonArcherDamaged
//===========================================================================
function Trig_SkeletonArcherDamaged_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'n001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SkeletonArcherDamaged_Actions takes nothing returns nothing
    set udg_UnitSkeletonArcher = udg_DamageEventTarget
    call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitSkeletonArcher), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitSkeletonArcher )
endfunction

//===========================================================================
function InitTrig_SkeletonArcherDamaged takes nothing returns nothing
    set gg_trg_SkeletonArcherDamaged = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_SkeletonArcherDamaged, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_SkeletonArcherDamaged, Condition( function Trig_SkeletonArcherDamaged_Conditions ) )
    call TriggerAddAction( gg_trg_SkeletonArcherDamaged, function Trig_SkeletonArcherDamaged_Actions )
endfunction

//===========================================================================
// Trigger: SkeletonWarriorDamaged
//===========================================================================
function Trig_SkeletonWarriorDamaged_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'u000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_SkeletonWarriorDamaged_Actions takes nothing returns nothing
    set udg_UnitSkeletonWarrior = udg_DamageEventTarget
    call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitSkeletonWarrior), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitSkeletonWarrior )
endfunction

//===========================================================================
function InitTrig_SkeletonWarriorDamaged takes nothing returns nothing
    set gg_trg_SkeletonWarriorDamaged = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_SkeletonWarriorDamaged, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_SkeletonWarriorDamaged, Condition( function Trig_SkeletonWarriorDamaged_Conditions ) )
    call TriggerAddAction( gg_trg_SkeletonWarriorDamaged, function Trig_SkeletonWarriorDamaged_Actions )
endfunction

//===========================================================================
// Trigger: GhoulDamaged
//===========================================================================
function Trig_GhoulDamaged_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'u001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulDamaged_Actions takes nothing returns nothing
    set udg_UnitTargetBashGhoul = udg_DamageEventTarget
    call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitTargetBashGhoul), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitTargetBashGhoul )
endfunction

//===========================================================================
function InitTrig_GhoulDamaged takes nothing returns nothing
    set gg_trg_GhoulDamaged = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_GhoulDamaged, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_GhoulDamaged, Condition( function Trig_GhoulDamaged_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulDamaged, function Trig_GhoulDamaged_Actions )
endfunction

//===========================================================================
// Trigger: DwarfDamaged
//===========================================================================
function Trig_DwarfDamaged_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_DwarfDamaged_Actions takes nothing returns nothing
    set udg_UnitDwarf = udg_DamageEventTarget
    call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitDwarf), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitDwarf )
endfunction

//===========================================================================
function InitTrig_DwarfDamaged takes nothing returns nothing
    set gg_trg_DwarfDamaged = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_DwarfDamaged, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_DwarfDamaged, Condition( function Trig_DwarfDamaged_Conditions ) )
    call TriggerAddAction( gg_trg_DwarfDamaged, function Trig_DwarfDamaged_Actions )
endfunction

//===========================================================================
// Trigger: BowmanDamaged
//===========================================================================
function Trig_BowmanDamaged_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(udg_DamageEventTarget) == 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_BowmanDamaged_Actions takes nothing returns nothing
    set udg_UnitBowman = udg_DamageEventTarget
    call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitBowman), bj_UNIT_FACING )
    call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
    call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitBowman )
endfunction

//===========================================================================
function InitTrig_BowmanDamaged takes nothing returns nothing
    set gg_trg_BowmanDamaged = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_BowmanDamaged, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_BowmanDamaged, Condition( function Trig_BowmanDamaged_Conditions ) )
    call TriggerAddAction( gg_trg_BowmanDamaged, function Trig_BowmanDamaged_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged1
//===========================================================================
function Trig_WarriorDamaged1_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior1 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged1_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior1, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged1_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged1_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior1, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_256", GetUnitLoc(udg_UnitWarrior1), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior1, "undefend" )
    else
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior1), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior1 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged1 takes nothing returns nothing
    set gg_trg_WarriorDamaged1 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged1, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged1, Condition( function Trig_WarriorDamaged1_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged1, function Trig_WarriorDamaged1_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged2
//===========================================================================
function Trig_WarriorDamaged2_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior2 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged2_Func011C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior2, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged2_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged2_Func011C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior2, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_255", GetUnitLoc(udg_UnitWarrior2), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior2, "undefend" )
    else
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior2), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior2 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged2 takes nothing returns nothing
    set gg_trg_WarriorDamaged2 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged2, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged2, Condition( function Trig_WarriorDamaged2_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged2, function Trig_WarriorDamaged2_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged3
//===========================================================================
function Trig_WarriorDamaged3_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior3 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged3_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior3, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged3_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged3_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior3, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_254", GetUnitLoc(udg_UnitWarrior3), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior3, "undefend" )
    else
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior3), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior3 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged3 takes nothing returns nothing
    set gg_trg_WarriorDamaged3 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged3, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged3, Condition( function Trig_WarriorDamaged3_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged3, function Trig_WarriorDamaged3_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged4
//===========================================================================
function Trig_WarriorDamaged4_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior4 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged4_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior4, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged4_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged4_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior4, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_253", GetUnitLoc(udg_UnitWarrior4), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior4, "undefend" )
    else
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior4), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior4 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged4 takes nothing returns nothing
    set gg_trg_WarriorDamaged4 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged4, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged4, Condition( function Trig_WarriorDamaged4_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged4, function Trig_WarriorDamaged4_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged5
//===========================================================================
function Trig_WarriorDamaged5_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior5 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged5_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior5, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged5_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged5_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior5, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_252", GetUnitLoc(udg_UnitWarrior5), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior5, "undefend" )
    else
        set udg_UnitWarrior5 = udg_DamageEventTarget
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior5), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior5 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged5 takes nothing returns nothing
    set gg_trg_WarriorDamaged5 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged5, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged5, Condition( function Trig_WarriorDamaged5_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged5, function Trig_WarriorDamaged5_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged6
//===========================================================================
function Trig_WarriorDamaged6_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior6 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged6_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior6, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged6_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged6_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior6, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_251", GetUnitLoc(udg_UnitWarrior6), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior6, "undefend" )
    else
        set udg_UnitWarrior6 = udg_DamageEventTarget
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior6), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior6 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged6 takes nothing returns nothing
    set gg_trg_WarriorDamaged6 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged6, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged6, Condition( function Trig_WarriorDamaged6_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged6, function Trig_WarriorDamaged6_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged7
//===========================================================================
function Trig_WarriorDamaged7_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior7 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged7_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior7, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged7_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged7_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior7, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_250", GetUnitLoc(udg_UnitWarrior7), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior7, "undefend" )
    else
        set udg_UnitWarrior7 = udg_DamageEventTarget
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior7), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior7 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged7 takes nothing returns nothing
    set gg_trg_WarriorDamaged7 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged7, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged7, Condition( function Trig_WarriorDamaged7_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged7, function Trig_WarriorDamaged7_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged8
//===========================================================================
function Trig_WarriorDamaged8_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior8 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged8_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior8, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged8_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged8_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior8, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_249", GetUnitLoc(udg_UnitWarrior8), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior8, "undefend" )
    else
        set udg_UnitWarrior8 = udg_DamageEventTarget
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior8), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior8 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged8 takes nothing returns nothing
    set gg_trg_WarriorDamaged8 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged8, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged8, Condition( function Trig_WarriorDamaged8_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged8, function Trig_WarriorDamaged8_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged9
//===========================================================================
function Trig_WarriorDamaged9_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior9 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged9_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior9, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged9_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged9_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior9, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_248", GetUnitLoc(udg_UnitWarrior9), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior9, "undefend" )
    else
        set udg_UnitWarrior9 = udg_DamageEventTarget
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior9), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior9 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged9 takes nothing returns nothing
    set gg_trg_WarriorDamaged9 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged9, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged9, Condition( function Trig_WarriorDamaged9_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged9, function Trig_WarriorDamaged9_Actions )
endfunction

//===========================================================================
// Trigger: WarriorDamaged10
//===========================================================================
function Trig_WarriorDamaged10_Conditions takes nothing returns boolean
    if ( not ( udg_DamageEventTarget == udg_UnitWarrior10 ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o004' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o002' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o003' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'o000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'n000' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h001' ) ) then
        return false
    endif
    if ( not ( GetUnitTypeId(udg_DamageEventSource) != 'h002' ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged10_Func009C takes nothing returns boolean
    if ( not ( GetRandomInt(1, 4) == 1 ) ) then
        return false
    endif
    if ( not ( UnitHasBuffBJ(udg_UnitWarrior10, 'BPSE') == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_WarriorDamaged10_Actions takes nothing returns nothing
    if ( Trig_WarriorDamaged10_Func009C() ) then
        set udg_DamageEventAmount = 0.00
        call IssueImmediateOrderBJ( udg_UnitWarrior10, "defend" )
        call CreateTextTagLocBJ( "TRIGSTR_247", GetUnitLoc(udg_UnitWarrior10), 0, 8.00, 100, 100, 100, 0 )
        call SetTextTagVelocityBJ( GetLastCreatedTextTag(), 64, 90 )
        call SetTextTagPermanentBJ( GetLastCreatedTextTag(), false )
        call SetTextTagLifespanBJ( GetLastCreatedTextTag(), 1.00 )
        call TriggerSleepAction( 1.00 )
        call IssueImmediateOrderBJ( udg_UnitWarrior10, "undefend" )
    else
        set udg_UnitWarrior10 = udg_DamageEventTarget
        call CreateNUnitsAtLoc( 1, 'o001', Player(PLAYER_NEUTRAL_PASSIVE), GetUnitLoc(udg_UnitWarrior10), bj_UNIT_FACING )
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call IssueTargetOrderBJ( GetLastCreatedUnit(), "thunderbolt", udg_UnitWarrior10 )
    endif
endfunction

//===========================================================================
function InitTrig_WarriorDamaged10 takes nothing returns nothing
    set gg_trg_WarriorDamaged10 = CreateTrigger(  )
    call TriggerRegisterVariableEvent( gg_trg_WarriorDamaged10, "udg_DamageEvent", EQUAL, 1.00 )
    call TriggerAddCondition( gg_trg_WarriorDamaged10, Condition( function Trig_WarriorDamaged10_Conditions ) )
    call TriggerAddAction( gg_trg_WarriorDamaged10, function Trig_WarriorDamaged10_Actions )
endfunction

//===========================================================================
// Trigger: Flaming Arrow 1
//===========================================================================
function Trig_Flaming_Arrow_1_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00A' ) ) then
        return false
    endif
    if ( not ( GetSpellAbilityUnit() == udg_UnitBowman1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_1_Func001Func001C takes nothing returns boolean
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I00B')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_1_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetSpellAbilityUnit(), 'I00B') == true ) ) then
        return false
    endif
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I00B')) > 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_1_Actions takes nothing returns nothing
    if ( Trig_Flaming_Arrow_1_Func001C() ) then
        set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
        call CreateNUnitsAtLoc( 1, 'o004', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
        set udg_UnitDummyFlame1 = GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call RemoveLocation(udg_FA_Point)
        set udg_FA_Point = GetSpellTargetLoc()
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
        call RemoveLocation(udg_FA_Point)
        call SetItemCharges( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I00B'), ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I00B')) - 1 ) )
    else
        if ( Trig_Flaming_Arrow_1_Func001Func001C() ) then
            set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
            call CreateNUnitsAtLoc( 1, 'o004', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
            set udg_UnitDummyFlame1 = GetLastCreatedUnit()
            call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
            call RemoveLocation(udg_FA_Point)
            set udg_FA_Point = GetSpellTargetLoc()
            call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman1, 'I00B') )
            call UnitRemoveAbilityBJ( 'A00A', udg_UnitBowman1 )
            call RemoveLocation(udg_FA_Point)
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Flaming_Arrow_1 takes nothing returns nothing
    set gg_trg_Flaming_Arrow_1 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Flaming_Arrow_1, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Flaming_Arrow_1, Condition( function Trig_Flaming_Arrow_1_Conditions ) )
    call TriggerAddAction( gg_trg_Flaming_Arrow_1, function Trig_Flaming_Arrow_1_Actions )
endfunction

//===========================================================================
// Trigger: Flaming Arrow 2
//===========================================================================
function Trig_Flaming_Arrow_2_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00A' ) ) then
        return false
    endif
    if ( not ( GetSpellAbilityUnit() == udg_UnitBowman2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_2_Func001Func001C takes nothing returns boolean
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I00B')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_2_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetSpellAbilityUnit(), 'I00B') == true ) ) then
        return false
    endif
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I00B')) > 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_2_Actions takes nothing returns nothing
    if ( Trig_Flaming_Arrow_2_Func001C() ) then
        set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
        call CreateNUnitsAtLoc( 1, 'o002', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
        set udg_UnitDummyFlame2 = GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call RemoveLocation(udg_FA_Point)
        set udg_FA_Point = GetSpellTargetLoc()
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
        call RemoveLocation(udg_FA_Point)
        call SetItemCharges( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I00B'), ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I00B')) - 1 ) )
    else
        if ( Trig_Flaming_Arrow_2_Func001Func001C() ) then
            set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
            call CreateNUnitsAtLoc( 1, 'o002', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
            set udg_UnitDummyFlame2 = GetLastCreatedUnit()
            call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
            call RemoveLocation(udg_FA_Point)
            set udg_FA_Point = GetSpellTargetLoc()
            call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman2, 'I00B') )
            call UnitRemoveAbilityBJ( 'A00A', udg_UnitBowman2 )
            call RemoveLocation(udg_FA_Point)
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Flaming_Arrow_2 takes nothing returns nothing
    set gg_trg_Flaming_Arrow_2 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Flaming_Arrow_2, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Flaming_Arrow_2, Condition( function Trig_Flaming_Arrow_2_Conditions ) )
    call TriggerAddAction( gg_trg_Flaming_Arrow_2, function Trig_Flaming_Arrow_2_Actions )
endfunction

//===========================================================================
// Trigger: Flaming Arrow 3
//===========================================================================
function Trig_Flaming_Arrow_3_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00A' ) ) then
        return false
    endif
    if ( not ( GetSpellAbilityUnit() == udg_UnitBowman3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_3_Func001Func001C takes nothing returns boolean
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I00B')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_3_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetSpellAbilityUnit(), 'I00B') == true ) ) then
        return false
    endif
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I00B')) > 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_3_Actions takes nothing returns nothing
    if ( Trig_Flaming_Arrow_3_Func001C() ) then
        set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
        call CreateNUnitsAtLoc( 1, 'o003', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
        set udg_UnitDummyFlame3 = GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call RemoveLocation(udg_FA_Point)
        set udg_FA_Point = GetSpellTargetLoc()
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
        call RemoveLocation(udg_FA_Point)
        call SetItemCharges( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I00B'), ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I00B')) - 1 ) )
    else
        if ( Trig_Flaming_Arrow_3_Func001Func001C() ) then
            set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
            call CreateNUnitsAtLoc( 1, 'o003', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
            set udg_UnitDummyFlame3 = GetLastCreatedUnit()
            call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
            call RemoveLocation(udg_FA_Point)
            set udg_FA_Point = GetSpellTargetLoc()
            call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman3, 'I00B') )
            call UnitRemoveAbilityBJ( 'A00A', udg_UnitBowman3 )
            call RemoveLocation(udg_FA_Point)
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Flaming_Arrow_3 takes nothing returns nothing
    set gg_trg_Flaming_Arrow_3 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Flaming_Arrow_3, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Flaming_Arrow_3, Condition( function Trig_Flaming_Arrow_3_Conditions ) )
    call TriggerAddAction( gg_trg_Flaming_Arrow_3, function Trig_Flaming_Arrow_3_Actions )
endfunction

//===========================================================================
// Trigger: Flaming Arrow 4
//===========================================================================
function Trig_Flaming_Arrow_4_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A00A' ) ) then
        return false
    endif
    if ( not ( GetSpellAbilityUnit() == udg_UnitBowman4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_4_Func001Func001C takes nothing returns boolean
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I00B')) == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_4_Func001C takes nothing returns boolean
    if ( not ( UnitHasItemOfTypeBJ(GetSpellAbilityUnit(), 'I00B') == true ) ) then
        return false
    endif
    if ( not ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I00B')) > 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Flaming_Arrow_4_Actions takes nothing returns nothing
    if ( Trig_Flaming_Arrow_4_Func001C() ) then
        set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
        call CreateNUnitsAtLoc( 1, 'o000', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
        set udg_UnitDummyFlame4 = GetLastCreatedUnit()
        call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
        call RemoveLocation(udg_FA_Point)
        set udg_FA_Point = GetSpellTargetLoc()
        call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
        call RemoveLocation(udg_FA_Point)
        call SetItemCharges( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I00B'), ( GetItemCharges(GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I00B')) - 1 ) )
    else
        if ( Trig_Flaming_Arrow_4_Func001Func001C() ) then
            set udg_FA_Point = GetUnitLoc(GetTriggerUnit())
            call CreateNUnitsAtLoc( 1, 'o000', Player(PLAYER_NEUTRAL_PASSIVE), udg_FA_Point, bj_UNIT_FACING )
            set udg_UnitDummyFlame4 = GetLastCreatedUnit()
            call UnitApplyTimedLifeBJ( 10.00, 'BTLF', GetLastCreatedUnit() )
            call RemoveLocation(udg_FA_Point)
            set udg_FA_Point = GetSpellTargetLoc()
            call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attackground", udg_FA_Point )
            call RemoveItem( GetItemOfTypeFromUnitBJ(udg_UnitBowman4, 'I00B') )
            call UnitRemoveAbilityBJ( 'A00A', udg_UnitBowman4 )
            call RemoveLocation(udg_FA_Point)
        else
        endif
    endif
endfunction

//===========================================================================
function InitTrig_Flaming_Arrow_4 takes nothing returns nothing
    set gg_trg_Flaming_Arrow_4 = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Flaming_Arrow_4, EVENT_PLAYER_UNIT_SPELL_EFFECT )
    call TriggerAddCondition( gg_trg_Flaming_Arrow_4, Condition( function Trig_Flaming_Arrow_4_Conditions ) )
    call TriggerAddAction( gg_trg_Flaming_Arrow_4, function Trig_Flaming_Arrow_4_Actions )
endfunction

//===========================================================================
// Trigger: cam
//===========================================================================
function Trig_cam_Actions takes nothing returns nothing
    call SetCameraFieldForPlayer( Player(0), CAMERA_FIELD_TARGET_DISTANCE, 2000.00, 2.00 )
    call SetCameraFieldForPlayer( Player(0), CAMERA_FIELD_ANGLE_OF_ATTACK, 325.00, 2.00 )
endfunction

//===========================================================================
function InitTrig_cam takes nothing returns nothing
    set gg_trg_cam = CreateTrigger(  )
    call TriggerRegisterPlayerChatEvent( gg_trg_cam, Player(0), "-cam", true )
    call TriggerAddAction( gg_trg_cam, function Trig_cam_Actions )
endfunction

//===========================================================================
// Trigger: Main Quest
//===========================================================================
function Trig_Main_Quest_Actions takes nothing returns nothing
    call TriggerSleepAction( 3.00 )
    call CreateQuestBJ( bj_QUESTTYPE_REQ_DISCOVERED, "TRIGSTR_068", "TRIGSTR_069", "ReplaceableTextures\\CommandButtons\\BTNSkeletonWarrior.blp" )
    call CreateQuestItemBJ( GetLastCreatedQuestBJ(), "TRIGSTR_078" )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_070" )
    set udg_QuestMain = GetLastCreatedQuestBJ()
endfunction

//===========================================================================
function InitTrig_Main_Quest takes nothing returns nothing
    set gg_trg_Main_Quest = CreateTrigger(  )
    call DisableTrigger( gg_trg_Main_Quest )
    call TriggerAddAction( gg_trg_Main_Quest, function Trig_Main_Quest_Actions )
endfunction

//===========================================================================
// Trigger: Optional Quest
//===========================================================================
function Trig_Optional_Quest_Actions takes nothing returns nothing
    call TriggerSleepAction( 4.00 )
    call CreateQuestBJ( bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_080", "TRIGSTR_087", "ReplaceableTextures\\CommandButtons\\BTNVillagerMan1.blp" )
    call CreateQuestItemBJ( GetLastCreatedQuestBJ(), "TRIGSTR_081" )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_082" )
    set udg_QuestVillager = GetLastCreatedQuestBJ()
endfunction

//===========================================================================
function InitTrig_Optional_Quest takes nothing returns nothing
    set gg_trg_Optional_Quest = CreateTrigger(  )
    call DisableTrigger( gg_trg_Optional_Quest )
    call TriggerAddAction( gg_trg_Optional_Quest, function Trig_Optional_Quest_Actions )
endfunction

//===========================================================================
// Trigger: Optional Quest Casualty
//===========================================================================
function Trig_Optional_Quest_Casualty_Actions takes nothing returns nothing
    call TriggerSleepAction( 5.00 )
    call CreateQuestBJ( bj_QUESTTYPE_OPT_DISCOVERED, "TRIGSTR_086", "TRIGSTR_088", "ReplaceableTextures\\CommandButtons\\BTNFootman.blp" )
    call CreateQuestItemBJ( GetLastCreatedQuestBJ(), "TRIGSTR_084" )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_DISCOVERED, "TRIGSTR_085" )
    set udg_QuestCasualty = GetLastCreatedQuestBJ()
endfunction

//===========================================================================
function InitTrig_Optional_Quest_Casualty takes nothing returns nothing
    set gg_trg_Optional_Quest_Casualty = CreateTrigger(  )
    call DisableTrigger( gg_trg_Optional_Quest_Casualty )
    call TriggerAddAction( gg_trg_Optional_Quest_Casualty, function Trig_Optional_Quest_Casualty_Actions )
endfunction

//===========================================================================
// Trigger: Villager die
//===========================================================================
function Trig_Villager_die_Actions takes nothing returns nothing
    set udg_BoleanVillager = true
    call QuestSetFailedBJ( udg_QuestVillager, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_090" )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Villager_die takes nothing returns nothing
    set gg_trg_Villager_die = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Villager_die, Player(9), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_Villager_die, function Trig_Villager_die_Actions )
endfunction

//===========================================================================
// Trigger: LightWarrior die
//===========================================================================
function Trig_LightWarrior_die_Func001001 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'h000' )
endfunction

function Trig_LightWarrior_die_Func001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'n000' )
endfunction

function Trig_LightWarrior_die_Func001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'h001' )
endfunction

function Trig_LightWarrior_die_Func001002 takes nothing returns boolean
    return GetBooleanOr( Trig_LightWarrior_die_Func001002001(), Trig_LightWarrior_die_Func001002002() )
endfunction

function Trig_LightWarrior_die_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_LightWarrior_die_Func001001(), Trig_LightWarrior_die_Func001002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_LightWarrior_die_Actions takes nothing returns nothing
    set udg_BoleanCasualty = true
    call QuestSetFailedBJ( udg_QuestCasualty, true )
    call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_FAILED, "TRIGSTR_091" )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_LightWarrior_die takes nothing returns nothing
    set gg_trg_LightWarrior_die = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_LightWarrior_die, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_LightWarrior_die, Condition( function Trig_LightWarrior_die_Conditions ) )
    call TriggerAddAction( gg_trg_LightWarrior_die, function Trig_LightWarrior_die_Actions )
endfunction

//===========================================================================
// Trigger: RightKey
//===========================================================================
function Trig_RightKey_Actions takes nothing returns nothing
    set udg_FacinAngle = GetUnitFacing(gg_unit_u002_0017)
    call SetUnitFacingTimed( gg_unit_u002_0017, ( udg_FacinAngle + 45.00 ), 0 )
    call TriggerSleepAction( 0.10 )
    call SetCameraFieldForPlayer( Player(0), CAMERA_FIELD_ROTATION, GetUnitFacing(gg_unit_u002_0017), 0.50 )
endfunction

//===========================================================================
function InitTrig_RightKey takes nothing returns nothing
    set gg_trg_RightKey = CreateTrigger(  )
    call DisableTrigger( gg_trg_RightKey )
    call TriggerRegisterPlayerKeyEventBJ( gg_trg_RightKey, Player(0), bj_KEYEVENTTYPE_DEPRESS, bj_KEYEVENTKEY_RIGHT )
    call TriggerAddAction( gg_trg_RightKey, function Trig_RightKey_Actions )
endfunction

//===========================================================================
// Trigger: LeftKey
//===========================================================================
function Trig_LeftKey_Actions takes nothing returns nothing
    set udg_FacinAngle = GetUnitFacing(gg_unit_u002_0017)
    call SetUnitFacingTimed( gg_unit_u002_0017, ( udg_FacinAngle - 45.00 ), 0 )
    call TriggerSleepAction( 0.10 )
    call SetCameraFieldForPlayer( Player(0), CAMERA_FIELD_ROTATION, GetUnitFacing(gg_unit_u002_0017), 0.50 )
endfunction

//===========================================================================
function InitTrig_LeftKey takes nothing returns nothing
    set gg_trg_LeftKey = CreateTrigger(  )
    call DisableTrigger( gg_trg_LeftKey )
    call TriggerRegisterPlayerKeyEventBJ( gg_trg_LeftKey, Player(0), bj_KEYEVENTTYPE_DEPRESS, bj_KEYEVENTKEY_LEFT )
    call TriggerAddAction( gg_trg_LeftKey, function Trig_LeftKey_Actions )
endfunction

//===========================================================================
// Trigger: Swordman
//===========================================================================
function Trig_Swordman_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetAttacker()) == 'h000' ) ) then
        return false
    endif
    return true
endfunction

function Trig_Swordman_Func004Func001Func002Func001Func001C takes nothing returns boolean
    if ( not ( udg_RandomNumberSound2 == 5 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Swordman_Func004Func001Func002Func001C takes nothing returns boolean
    if ( not ( udg_RandomNumberSound2 == 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Swordman_Func004Func001Func002C takes nothing returns boolean
    if ( not ( udg_RandomNumberSound2 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Swordman_Func004Func001C takes nothing returns boolean
    if ( not ( udg_RandomNumberSound2 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Swordman_Func004C takes nothing returns boolean
    if ( not ( udg_RandomNumberSound2 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Swordman_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_RandomNumberSound2 = GetRandomInt(1, 30)
    if ( Trig_Swordman_Func004C() ) then
        call PlaySoundBJ( gg_snd_Swordmanbattle0 )
    else
        if ( Trig_Swordman_Func004Func001C() ) then
            call PlaySoundBJ( gg_snd_Swordmanbattle1 )
        else
            if ( Trig_Swordman_Func004Func001Func002C() ) then
                call PlaySoundBJ( gg_snd_Swordmanbattle2 )
            else
                if ( Trig_Swordman_Func004Func001Func002Func001C() ) then
                    call PlaySoundBJ( gg_snd_Swordmanbattle3 )
                else
                    if ( Trig_Swordman_Func004Func001Func002Func001Func001C() ) then
                        call PlaySoundBJ( gg_snd_Swordmanbattle4 )
                    else
                    endif
                endif
            endif
        endif
    endif
    call TriggerSleepAction( 0.50 )
    call EnableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Swordman takes nothing returns nothing
    set gg_trg_Swordman = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Swordman, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Swordman, Condition( function Trig_Swordman_Conditions ) )
    call TriggerAddAction( gg_trg_Swordman, function Trig_Swordman_Actions )
endfunction

//===========================================================================
// Trigger: Casualty
//===========================================================================
function Trig_Casualty_Func001001 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'h000' )
endfunction

function Trig_Casualty_Func001002001 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'n000' )
endfunction

function Trig_Casualty_Func001002002 takes nothing returns boolean
    return ( GetUnitTypeId(GetTriggerUnit()) == 'h001' )
endfunction

function Trig_Casualty_Func001002 takes nothing returns boolean
    return GetBooleanOr( Trig_Casualty_Func001002001(), Trig_Casualty_Func001002002() )
endfunction

function Trig_Casualty_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Casualty_Func001001(), Trig_Casualty_Func001002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Casualty_Actions takes nothing returns nothing
    call DisplayTextToForce( GetPlayersAll(), "TRIGSTR_016" )
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_LigthGroup )
endfunction

//===========================================================================
function InitTrig_Casualty takes nothing returns nothing
    set gg_trg_Casualty = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_Casualty, Player(0), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Casualty, Condition( function Trig_Casualty_Conditions ) )
    call TriggerAddAction( gg_trg_Casualty, function Trig_Casualty_Actions )
endfunction

//===========================================================================
// Trigger: PeasantsUG
//===========================================================================
function Trig_PeasantsUG_Actions takes nothing returns nothing
    call GroupAddUnitSimple( gg_unit_n004_0035, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n004_0034, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n004_0032, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n003_0024, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n003_0025, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n005_0043, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n005_0044, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n005_0045, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n002_0023, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n004_0037, udg_PeasantsGroup )
    call GroupAddUnitSimple( gg_unit_n003_0028, udg_PeasantsGroup )
endfunction

//===========================================================================
function InitTrig_PeasantsUG takes nothing returns nothing
    set gg_trg_PeasantsUG = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_PeasantsUG, 0.10 )
    call TriggerAddAction( gg_trg_PeasantsUG, function Trig_PeasantsUG_Actions )
endfunction

//===========================================================================
// Trigger: CasualtyVillager
//===========================================================================
function Trig_CasualtyVillager_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_PeasantsGroup )
endfunction

//===========================================================================
function InitTrig_CasualtyVillager takes nothing returns nothing
    set gg_trg_CasualtyVillager = CreateTrigger(  )
    call TriggerRegisterPlayerUnitEventSimple( gg_trg_CasualtyVillager, Player(9), EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddAction( gg_trg_CasualtyVillager, function Trig_CasualtyVillager_Actions )
endfunction

//===========================================================================
// Trigger: Cinematic
//===========================================================================
function Trig_Cinematic_Func002001 takes nothing returns boolean
    return ( GetClickedButtonBJ() == udg_ButtonLevel[1] )
endfunction

function Trig_Cinematic_Func002002001 takes nothing returns boolean
    return ( GetClickedButtonBJ() == udg_ButtonLevel[2] )
endfunction

function Trig_Cinematic_Func002002002 takes nothing returns boolean
    return ( GetClickedButtonBJ() == udg_ButtonLevel[3] )
endfunction

function Trig_Cinematic_Func002002 takes nothing returns boolean
    return GetBooleanOr( Trig_Cinematic_Func002002001(), Trig_Cinematic_Func002002002() )
endfunction

function Trig_Cinematic_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Cinematic_Func002001(), Trig_Cinematic_Func002002() ) ) then
        return false
    endif
    return true
endfunction

function Trig_Cinematic_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call ClearMapMusicBJ(  )
    call TriggerSleepAction( 1.00 )
    call CinematicModeBJ( true, GetPlayersAll() )
    call CinematicFadeBJ( bj_CINEFADETYPE_FADEOUTIN, 2, "ReplaceableTextures\\CameraMasks\\White_mask.blp", 0, 0, 0, 0 )
    call TriggerSleepAction( 0.01 )
    call PlayThematicMusicBJ( "war3mapImported\\Myth Soundtrack The Siege of Madriga.mp3" )
    call SetMapMusicIndexedBJ( "music", 0 )
    call TriggerSleepAction( 1.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_CameraCinematic, Player(0), 0 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_219", GetRectCenter(gg_rct_PeasantsArea), null, "TRIGSTR_220", bj_TIMETYPE_ADD, 0, true )
    call TriggerSleepAction( 5.00 )
    call CameraSetupApplyForPlayer( true, gg_cam_CameraCinematic1, Player(0), 7.00 )
    call TriggerSleepAction( 1.00 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_221", GetRectCenter(gg_rct_PeasantsArea), null, "TRIGSTR_222", bj_TIMETYPE_ADD, 0, true )
    call TriggerSleepAction( 5.00 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_223", GetRectCenter(gg_rct_PeasantsArea), null, "TRIGSTR_224", bj_TIMETYPE_ADD, 0, true )
    call CameraSetupApplyForPlayer( true, gg_cam_CameraCinematic2, Player(0), 4.00 )
    call TriggerSleepAction( 5.00 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_225", GetRectCenter(gg_rct_PeasantsArea), null, "TRIGSTR_226", bj_TIMETYPE_ADD, 0, true )
    call CameraSetupApplyForPlayer( true, gg_cam_CameraGameCinematic, Player(0), 4.00 )
    call TriggerSleepAction( 5.00 )
    call CinematicModeBJ( false, GetPlayersAll() )
    call CameraSetupApplyForPlayer( true, gg_cam_CameraGameCinematic, Player(0), 2.50 )
    call TriggerSleepAction( 2.50 )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "attack", GetRectCenter(gg_rct_WarriorMiddle1) )
    call ClearMapMusicBJ(  )
    call SetMusicVolumeBJ( 0.00 )
    call SetMapMusicIndexedBJ( "music", 0 )
    call TriggerSleepAction( 0.60 )
    call ResetToGameCameraForPlayer( Player(0), 0 )
    call SetCameraFieldForPlayer( Player(0), CAMERA_FIELD_TARGET_DISTANCE, 2000.00, 0 )
    call SetCameraFieldForPlayer( Player(0), CAMERA_FIELD_ANGLE_OF_ATTACK, 325.00, 0 )
    call ConditionalTriggerExecute( gg_trg_SkeletonsRight )
    call ConditionalTriggerExecute( gg_trg_SkeletonsLeft )
    call TriggerSleepAction( 0.30 )
    call GroupPointOrderLocBJ( udg_WarriorsBridge, "move", GetRectCenter(gg_rct_WarriorMiddle2) )
    call TriggerSleepAction( 0.30 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'h000', "TRIGSTR_413", GetRectCenter(gg_rct_Squad1), null, "TRIGSTR_414", bj_TIMETYPE_ADD, 0, true )
    call ConditionalTriggerExecute( gg_trg_Skeleton_Squad_Group )
    call ConditionalTriggerExecute( gg_trg_Squad1Moves )
    call ConditionalTriggerExecute( gg_trg_Ghoul1Group )
    call ConditionalTriggerExecute( gg_trg_Ghoul2Group )
    call RemoveUnit( gg_unit_n001_0030 )
    call RemoveUnit( gg_unit_n001_0033 )
    call RemoveUnit( gg_unit_n001_0038 )
    call RemoveUnit( gg_unit_n001_0039 )
    call RemoveUnit( gg_unit_u000_0018 )
    call RemoveUnit( gg_unit_u000_0020 )
    call RemoveUnit( gg_unit_u000_0021 )
    call RemoveUnit( gg_unit_u000_0022 )
    call RemoveUnit( gg_unit_u000_0026 )
    call RemoveUnit( gg_unit_u000_0027 )
    call RemoveUnit( gg_unit_u000_0029 )
    call RemoveUnit( gg_unit_u000_0040 )
    call EnableTrigger( gg_trg_RightKey )
    call EnableTrigger( gg_trg_LeftKey )
    call ConditionalTriggerExecute( gg_trg_Main_Quest )
    call ConditionalTriggerExecute( gg_trg_Optional_Quest )
    call ConditionalTriggerExecute( gg_trg_Optional_Quest_Casualty )
    call TriggerSleepAction( 10.00 )
    call DisplayTextToForce( GetPlayersAll(), "TRIGSTR_228" )
endfunction

//===========================================================================
function InitTrig_Cinematic takes nothing returns nothing
    set gg_trg_Cinematic = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_Cinematic, udg_DialogLevel )
    call TriggerAddCondition( gg_trg_Cinematic, Condition( function Trig_Cinematic_Conditions ) )
    call TriggerAddAction( gg_trg_Cinematic, function Trig_Cinematic_Actions )
endfunction

//===========================================================================
// Trigger: SkeletonsRight
//===========================================================================
function Trig_SkeletonsRight_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonRight )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonRight )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonRight )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonRight )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonRight )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonRight )
    call GroupPointOrderLocBJ( udg_SkeletonRight, "attack", GetRectCenter(gg_rct_RightSkeletons) )
endfunction

//===========================================================================
function InitTrig_SkeletonsRight takes nothing returns nothing
    set gg_trg_SkeletonsRight = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SkeletonsRight, function Trig_SkeletonsRight_Actions )
endfunction

//===========================================================================
// Trigger: SkeletonsLeft
//===========================================================================
function Trig_SkeletonsLeft_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_skelie1), 270.00 )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonLeft )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_skelie2), 270.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonLeft )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_skelie3), 270.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonLeft )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_skelie4), 270.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonLeft )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_skelie5), 270.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonLeft )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
    call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_skelie6), 270.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonLeft )
    call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_ArchersRight )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_ArchersRight) )
    call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SkeletonRight), 270.00 )
    call SetUnitAnimation( GetLastCreatedUnit(), "birth" )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_ArchersLeft )
    call RemoveGuardPosition( GetLastCreatedUnit() )
    call IssuePointOrderLocBJ( GetLastCreatedUnit(), "attack", GetRectCenter(gg_rct_ArchersLeft) )
    call TriggerSleepAction( 4.00 )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "move", GetRectCenter(gg_rct_Victory) )
    call TriggerSleepAction( 5.00 )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "attack", GetRectCenter(gg_rct_LeftSkeletons) )
endfunction

//===========================================================================
function InitTrig_SkeletonsLeft takes nothing returns nothing
    set gg_trg_SkeletonsLeft = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SkeletonsLeft, function Trig_SkeletonsLeft_Actions )
endfunction

//===========================================================================
// Trigger: Victory
//===========================================================================
function Trig_Victory_Conditions takes nothing returns boolean
    if ( not ( udg_BoleanAmbush == false ) ) then
        return false
    endif
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == Player(0) ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Func006C takes nothing returns boolean
    if ( not ( udg_BoleanVillager == true ) ) then
        return false
    endif
    if ( not ( udg_BoleanCasualty == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Func007C takes nothing returns boolean
    if ( not ( udg_BoleanVillager == false ) ) then
        return false
    endif
    if ( not ( udg_BoleanCasualty == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Func008C takes nothing returns boolean
    if ( not ( udg_BoleanVillager == true ) ) then
        return false
    endif
    if ( not ( udg_BoleanCasualty == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Func009C takes nothing returns boolean
    if ( not ( udg_BoleanCasualty == false ) ) then
        return false
    endif
    if ( not ( udg_BoleanVillager == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Victory_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call SetMapMusicIndexedBJ( "music", 0 )
    call StopMusicBJ( false )
    call SetMusicVolumeBJ( 100.00 )
    if ( Trig_Victory_Func006C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_195" )
        call QuestSetCompletedBJ( udg_QuestMain, true )
        call SetUnitAnimation( udg_UnitBowman1, "victory" )
        call SetUnitAnimation( udg_UnitBowman2, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitBowman3, "victory" )
        call SetUnitAnimation( udg_UnitBowman4, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitDwarf1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior2, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior3, "victory" )
        call SetUnitAnimation( udg_UnitWarrior4, "victory" )
        call SetUnitAnimation( udg_UnitWarrior5, "victory" )
        call SetUnitAnimation( udg_UnitWarrior6, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior7, "victory" )
        call SetUnitAnimation( udg_UnitWarrior8, "victory" )
        call SetUnitAnimation( udg_UnitWarrior9, "victory" )
        call SetUnitAnimation( udg_UnitWarrior10, "victory" )
        call TriggerSleepAction( 5.00 )
        call CustomVictoryBJ( Player(0), true, true )
    else
    endif
    if ( Trig_Victory_Func007C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_196" )
        call QuestSetCompletedBJ( udg_QuestVillager, true )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_190" )
        call QuestSetCompletedBJ( udg_QuestMain, true )
        call GroupImmediateOrderBJ( udg_LigthGroup, "stop" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitBowman1, "victory" )
        call SetUnitAnimation( udg_UnitBowman2, "victory" )
        call SetUnitAnimation( udg_UnitBowman3, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitBowman4, "victory" )
        call SetUnitAnimation( udg_UnitDwarf1, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior2, "victory" )
        call SetUnitAnimation( udg_UnitWarrior3, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior4, "victory" )
        call SetUnitAnimation( udg_UnitWarrior5, "victory" )
        call SetUnitAnimation( udg_UnitWarrior6, "victory" )
        call SetUnitAnimation( udg_UnitWarrior7, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior8, "victory" )
        call SetUnitAnimation( udg_UnitWarrior9, "victory" )
        call SetUnitAnimation( udg_UnitWarrior10, "victory" )
        call TriggerSleepAction( 10.00 )
        call CustomVictoryBJ( Player(0), true, true )
    else
    endif
    if ( Trig_Victory_Func008C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_197" )
        call QuestSetCompletedBJ( udg_QuestCasualty, true )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_194" )
        call QuestSetCompletedBJ( udg_QuestMain, true )
        call TriggerSleepAction( 0.50 )
        call GroupImmediateOrderBJ( udg_LigthGroup, "stop" )
        call SetUnitAnimation( udg_UnitBowman1, "victory" )
        call SetUnitAnimation( udg_UnitBowman2, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitBowman3, "victory" )
        call SetUnitAnimation( udg_UnitBowman4, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitDwarf1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior2, "victory" )
        call SetUnitAnimation( udg_UnitWarrior3, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior4, "victory" )
        call SetUnitAnimation( udg_UnitWarrior5, "victory" )
        call SetUnitAnimation( udg_UnitWarrior6, "victory" )
        call SetUnitAnimation( udg_UnitWarrior7, "victory" )
        call SetUnitAnimation( udg_UnitWarrior8, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior9, "victory" )
        call SetUnitAnimation( udg_UnitWarrior10, "victory" )
        call TriggerSleepAction( 10.00 )
        call CustomVictoryBJ( Player(0), true, true )
    else
    endif
    if ( Trig_Victory_Func009C() ) then
        call DisableTrigger( GetTriggeringTrigger() )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_198" )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_193" )
        call QuestMessageBJ( GetPlayersAll(), bj_QUESTMESSAGE_COMPLETED, "TRIGSTR_192" )
        call QuestSetCompletedBJ( udg_QuestVillager, true )
        call QuestSetCompletedBJ( udg_QuestCasualty, true )
        call QuestSetCompletedBJ( udg_QuestMain, true )
        call GroupImmediateOrderBJ( udg_LigthGroup, "stop" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitBowman1, "victory" )
        call SetUnitAnimation( udg_UnitBowman2, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitBowman3, "victory" )
        call SetUnitAnimation( udg_UnitBowman4, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitDwarf1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior1, "victory" )
        call SetUnitAnimation( udg_UnitWarrior2, "victory" )
        call SetUnitAnimation( udg_UnitWarrior3, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior4, "victory" )
        call SetUnitAnimation( udg_UnitWarrior5, "victory" )
        call SetUnitAnimation( udg_UnitWarrior6, "victory" )
        call SetUnitAnimation( udg_UnitWarrior7, "victory" )
        call TriggerSleepAction( 0.50 )
        call SetUnitAnimation( udg_UnitWarrior8, "victory" )
        call SetUnitAnimation( udg_UnitWarrior9, "victory" )
        call SetUnitAnimation( udg_UnitWarrior10, "victory" )
        call TriggerSleepAction( 10.00 )
        call CustomVictoryBJ( Player(0), true, true )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Victory takes nothing returns nothing
    set gg_trg_Victory = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_Victory, gg_rct_Victory )
    call TriggerAddCondition( gg_trg_Victory, Condition( function Trig_Victory_Conditions ) )
    call TriggerAddAction( gg_trg_Victory, function Trig_Victory_Actions )
endfunction

//===========================================================================
// Trigger: Deafeat
//===========================================================================
function Trig_Deafeat_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_LigthGroup) <= 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_Deafeat_Actions takes nothing returns nothing
    call CustomDefeatBJ( Player(0), "TRIGSTR_017" )
endfunction

//===========================================================================
function InitTrig_Deafeat takes nothing returns nothing
    set gg_trg_Deafeat = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_Deafeat, 5.00 )
    call TriggerAddCondition( gg_trg_Deafeat, Condition( function Trig_Deafeat_Conditions ) )
    call TriggerAddAction( gg_trg_Deafeat, function Trig_Deafeat_Actions )
endfunction

//===========================================================================
// Trigger: DeafeatVillage
//===========================================================================
function Trig_DeafeatVillage_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_PeasantsGroup) <= 4 ) ) then
        return false
    endif
    return true
endfunction

function Trig_DeafeatVillage_Actions takes nothing returns nothing
    call CustomDefeatBJ( Player(0), "TRIGSTR_018" )
endfunction

//===========================================================================
function InitTrig_DeafeatVillage takes nothing returns nothing
    set gg_trg_DeafeatVillage = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_DeafeatVillage, 5.00 )
    call TriggerAddCondition( gg_trg_DeafeatVillage, Condition( function Trig_DeafeatVillage_Conditions ) )
    call TriggerAddAction( gg_trg_DeafeatVillage, function Trig_DeafeatVillage_Actions )
endfunction

//===========================================================================
// Trigger: Ghoul1Group
//===========================================================================
function Trig_Ghoul1Group_Func001C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[1] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghoul1Group_Func002C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[2] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghoul1Group_Func003C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[3] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghoul1Group_Actions takes nothing returns nothing
    if ( Trig_Ghoul1Group_Func001C() ) then
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
    else
    endif
    if ( Trig_Ghoul1Group_Func002C() ) then
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
    else
    endif
    if ( Trig_Ghoul1Group_Func003C() ) then
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul1 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Ghoul1Group takes nothing returns nothing
    set gg_trg_Ghoul1Group = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Ghoul1Group, function Trig_Ghoul1Group_Actions )
endfunction

//===========================================================================
// Trigger: Ghoul2Group
//===========================================================================
function Trig_Ghoul2Group_Func002C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[1] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghoul2Group_Func003C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[2] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghoul2Group_Func004C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[3] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Ghoul2Group_Actions takes nothing returns nothing
    call TriggerSleepAction( 45.00 )
    if ( Trig_Ghoul2Group_Func002C() ) then
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
    else
    endif
    if ( Trig_Ghoul2Group_Func003C() ) then
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
    else
    endif
    if ( Trig_Ghoul2Group_Func004C() ) then
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
        call CreateNUnitsAtLoc( 1, 'u001', Player(20), GetRectCenter(gg_rct_Ghoul2Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_Ghoul2 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Ghoul2Group takes nothing returns nothing
    set gg_trg_Ghoul2Group = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Ghoul2Group, function Trig_Ghoul2Group_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad1
//===========================================================================
function Trig_GhoulSquad1_Func004C takes nothing returns boolean
    if ( not ( udg_RNghoul == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad1_Func005C takes nothing returns boolean
    if ( not ( udg_RNghoul == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad1_Actions takes nothing returns nothing
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(9), 'nvl2', "TRIGSTR_409", GetRectCenter(gg_rct_PeasantsArea), null, "TRIGSTR_410", bj_TIMETYPE_ADD, 0, true )
    set udg_RNghoul = GetRandomInt(1, 2)
    call TriggerSleepAction( 2 )
    if ( Trig_GhoulSquad1_Func004C() ) then
        call GroupPointOrderLocBJ( udg_Ghoul1, "move", GetRectCenter(gg_rct_Ghoul1) )
    else
    endif
    if ( Trig_GhoulSquad1_Func005C() ) then
        call GroupPointOrderLocBJ( udg_Ghoul1, "move", GetRectCenter(gg_rct_Ghoul2) )
    else
    endif
endfunction

//===========================================================================
function InitTrig_GhoulSquad1 takes nothing returns nothing
    set gg_trg_GhoulSquad1 = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_GhoulSquad1, 100.00 )
    call TriggerAddAction( gg_trg_GhoulSquad1, function Trig_GhoulSquad1_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad12
//===========================================================================
function Trig_GhoulSquad12_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul1) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad12_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_Ghoul1, "move", GetRectCenter(gg_rct_Ghoul12) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad12 takes nothing returns nothing
    set gg_trg_GhoulSquad12 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad12, gg_rct_Ghoul1 )
    call TriggerAddCondition( gg_trg_GhoulSquad12, Condition( function Trig_GhoulSquad12_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad12, function Trig_GhoulSquad12_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad1Attacks
//===========================================================================
function Trig_GhoulSquad1Attacks_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul1) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad1Attacks_Actions takes nothing returns nothing
    call GroupTargetOrderBJ( udg_Ghoul1, "attack", GroupPickRandomUnit(udg_ArcherGroup) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad1Attacks takes nothing returns nothing
    set gg_trg_GhoulSquad1Attacks = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad1Attacks, gg_rct_Ghoul12 )
    call TriggerAddCondition( gg_trg_GhoulSquad1Attacks, Condition( function Trig_GhoulSquad1Attacks_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad1Attacks, function Trig_GhoulSquad1Attacks_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad21
//===========================================================================
function Trig_GhoulSquad21_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul1) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad21_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_Ghoul1, "move", GetRectCenter(gg_rct_Ghoul21) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad21 takes nothing returns nothing
    set gg_trg_GhoulSquad21 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad21, gg_rct_Ghoul2 )
    call TriggerAddCondition( gg_trg_GhoulSquad21, Condition( function Trig_GhoulSquad21_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad21, function Trig_GhoulSquad21_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad1Attacks2
//===========================================================================
function Trig_GhoulSquad1Attacks2_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul1) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad1Attacks2_Actions takes nothing returns nothing
    call GroupTargetOrderBJ( udg_Ghoul1, "attack", GroupPickRandomUnit(udg_ArcherGroup) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad1Attacks2 takes nothing returns nothing
    set gg_trg_GhoulSquad1Attacks2 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad1Attacks2, gg_rct_Ghoul21 )
    call TriggerAddCondition( gg_trg_GhoulSquad1Attacks2, Condition( function Trig_GhoulSquad1Attacks2_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad1Attacks2, function Trig_GhoulSquad1Attacks2_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad2
//===========================================================================
function Trig_GhoulSquad2_Func002C takes nothing returns boolean
    if ( not ( udg_RNghoul == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad2_Func003C takes nothing returns boolean
    if ( not ( udg_RNghoul == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad2_Actions takes nothing returns nothing
    set udg_RNghoul = GetRandomInt(1, 2)
    if ( Trig_GhoulSquad2_Func002C() ) then
        call GroupPointOrderLocBJ( udg_Ghoul2, "move", GetRectCenter(gg_rct_Ghoul1) )
    else
    endif
    if ( Trig_GhoulSquad2_Func003C() ) then
        call GroupPointOrderLocBJ( udg_Ghoul2, "move", GetRectCenter(gg_rct_Ghoul2) )
    else
    endif
endfunction

//===========================================================================
function InitTrig_GhoulSquad2 takes nothing returns nothing
    set gg_trg_GhoulSquad2 = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_GhoulSquad2, 160.00 )
    call TriggerAddAction( gg_trg_GhoulSquad2, function Trig_GhoulSquad2_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad22
//===========================================================================
function Trig_GhoulSquad22_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul2) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad22_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_Ghoul2, "move", GetRectCenter(gg_rct_Ghoul12) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad22 takes nothing returns nothing
    set gg_trg_GhoulSquad22 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad22, gg_rct_Ghoul1 )
    call TriggerAddCondition( gg_trg_GhoulSquad22, Condition( function Trig_GhoulSquad22_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad22, function Trig_GhoulSquad22_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad2Attacks
//===========================================================================
function Trig_GhoulSquad2Attacks_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul2) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad2Attacks_Actions takes nothing returns nothing
    call GroupTargetOrderBJ( udg_Ghoul2, "attack", GroupPickRandomUnit(udg_ArcherGroup) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad2Attacks takes nothing returns nothing
    set gg_trg_GhoulSquad2Attacks = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad2Attacks, gg_rct_Ghoul12 )
    call TriggerAddCondition( gg_trg_GhoulSquad2Attacks, Condition( function Trig_GhoulSquad2Attacks_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad2Attacks, function Trig_GhoulSquad2Attacks_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad21 Copy
//===========================================================================
function Trig_GhoulSquad21_Copy_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul2) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad21_Copy_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_Ghoul2, "move", GetRectCenter(gg_rct_Ghoul21) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad21_Copy takes nothing returns nothing
    set gg_trg_GhoulSquad21_Copy = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad21_Copy, gg_rct_Ghoul2 )
    call TriggerAddCondition( gg_trg_GhoulSquad21_Copy, Condition( function Trig_GhoulSquad21_Copy_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad21_Copy, function Trig_GhoulSquad21_Copy_Actions )
endfunction

//===========================================================================
// Trigger: GhoulSquad2Attacks2
//===========================================================================
function Trig_GhoulSquad2Attacks2_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetTriggerUnit(), udg_Ghoul2) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_GhoulSquad2Attacks2_Actions takes nothing returns nothing
    call GroupTargetOrderBJ( udg_Ghoul2, "attack", GroupPickRandomUnit(udg_ArcherGroup) )
endfunction

//===========================================================================
function InitTrig_GhoulSquad2Attacks2 takes nothing returns nothing
    set gg_trg_GhoulSquad2Attacks2 = CreateTrigger(  )
    call TriggerRegisterEnterRectSimple( gg_trg_GhoulSquad2Attacks2, gg_rct_Ghoul21 )
    call TriggerAddCondition( gg_trg_GhoulSquad2Attacks2, Condition( function Trig_GhoulSquad2Attacks2_Conditions ) )
    call TriggerAddAction( gg_trg_GhoulSquad2Attacks2, function Trig_GhoulSquad2Attacks2_Actions )
endfunction

//===========================================================================
// Trigger: Squad1 Attacked
//===========================================================================
function Trig_Squad1_Attacked_Func001001 takes nothing returns boolean
    return ( IsUnitInGroup(GetAttackedUnitBJ(), udg_SkeletonSquad1) == true )
endfunction

function Trig_Squad1_Attacked_Func001002 takes nothing returns boolean
    return ( IsUnitInGroup(GetAttackedUnitBJ(), udg_SkeletonArcherSquad1) == true )
endfunction

function Trig_Squad1_Attacked_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_Squad1_Attacked_Func001001(), Trig_Squad1_Attacked_Func001002() ) ) then
        return false
    endif
    if ( not ( udg_BoleanAttack == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_Squad1_Attacked_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SkeletonRight, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_Ghoul1, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_Ghoul2, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_ArchersLeft, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_ArchersRight, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Squad1_Attacked takes nothing returns nothing
    set gg_trg_Squad1_Attacked = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Squad1_Attacked, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_Squad1_Attacked, Condition( function Trig_Squad1_Attacked_Conditions ) )
    call TriggerAddAction( gg_trg_Squad1_Attacked, function Trig_Squad1_Attacked_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacked RightLeft
//===========================================================================
function Trig_BridgeAttacked_RightLeft_Func001001 takes nothing returns boolean
    return ( IsUnitInGroup(GetAttackedUnitBJ(), udg_SkeletonLeft) == true )
endfunction

function Trig_BridgeAttacked_RightLeft_Func001002 takes nothing returns boolean
    return ( IsUnitInGroup(GetAttackedUnitBJ(), udg_SkeletonRight) == true )
endfunction

function Trig_BridgeAttacked_RightLeft_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_BridgeAttacked_RightLeft_Func001001(), Trig_BridgeAttacked_RightLeft_Func001002() ) ) then
        return false
    endif
    if ( not ( udg_BoleanAttack == false ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeAttacked_RightLeft_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SkeletonRight, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_ArchersLeft, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_ArchersRight, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_BridgeAttacked_RightLeft takes nothing returns nothing
    set gg_trg_BridgeAttacked_RightLeft = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_BridgeAttacked_RightLeft, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_BridgeAttacked_RightLeft, Condition( function Trig_BridgeAttacked_RightLeft_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeAttacked_RightLeft, function Trig_BridgeAttacked_RightLeft_Actions )
endfunction

//===========================================================================
// Trigger: BridgeAttacked RightLeft After
//===========================================================================
function Trig_BridgeAttacked_RightLeft_After_Func001001 takes nothing returns boolean
    return ( IsUnitInGroup(GetAttackedUnitBJ(), udg_SkeletonLeft) == true )
endfunction

function Trig_BridgeAttacked_RightLeft_After_Func001002 takes nothing returns boolean
    return ( IsUnitInGroup(GetAttackedUnitBJ(), udg_SkeletonRight) == true )
endfunction

function Trig_BridgeAttacked_RightLeft_After_Conditions takes nothing returns boolean
    if ( not GetBooleanOr( Trig_BridgeAttacked_RightLeft_After_Func001001(), Trig_BridgeAttacked_RightLeft_After_Func001002() ) ) then
        return false
    endif
    if ( not ( udg_BoleanAttack2 == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_BridgeAttacked_RightLeft_After_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SkeletonRight, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_ArchersLeft, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_ArchersRight, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_BridgeAttacked_RightLeft_After takes nothing returns nothing
    set gg_trg_BridgeAttacked_RightLeft_After = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_BridgeAttacked_RightLeft_After, EVENT_PLAYER_UNIT_ATTACKED )
    call TriggerAddCondition( gg_trg_BridgeAttacked_RightLeft_After, Condition( function Trig_BridgeAttacked_RightLeft_After_Conditions ) )
    call TriggerAddAction( gg_trg_BridgeAttacked_RightLeft_After, function Trig_BridgeAttacked_RightLeft_After_Actions )
endfunction

//===========================================================================
// Trigger: Skeleton Squad Group
//===========================================================================
function Trig_Skeleton_Squad_Group_Func001C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[1] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Skeleton_Squad_Group_Func002C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[2] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Skeleton_Squad_Group_Func003C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[3] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Skeleton_Squad_Group_Actions takes nothing returns nothing
    if ( Trig_Skeleton_Squad_Group_Func001C() ) then
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
    else
    endif
    if ( Trig_Skeleton_Squad_Group_Func002C() ) then
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
    else
    endif
    if ( Trig_Skeleton_Squad_Group_Func003C() ) then
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_Squad1Group), 270.00 )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad1 )
    else
    endif
endfunction

//===========================================================================
function InitTrig_Skeleton_Squad_Group takes nothing returns nothing
    set gg_trg_Skeleton_Squad_Group = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Skeleton_Squad_Group, function Trig_Skeleton_Squad_Group_Actions )
endfunction

//===========================================================================
// Trigger: Squad1 Dies
//===========================================================================
function Trig_Squad1_Dies_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_SkeletonSquad1) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_Squad1_Dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_SkeletonSquad1 )
endfunction

//===========================================================================
function InitTrig_Squad1_Dies takes nothing returns nothing
    set gg_trg_Squad1_Dies = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_Squad1_Dies, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_Squad1_Dies, Condition( function Trig_Squad1_Dies_Conditions ) )
    call TriggerAddAction( gg_trg_Squad1_Dies, function Trig_Squad1_Dies_Actions )
endfunction

//===========================================================================
// Trigger: Squad1Moves
//===========================================================================
function Trig_Squad1Moves_Actions takes nothing returns nothing
    call TriggerSleepAction( 2 )
    call GroupPointOrderLocBJ( udg_SkeletonSquad1, "move", GetRectCenter(gg_rct_Squad1) )
    call GroupPointOrderLocBJ( udg_SkeletonArcherSquad1, "move", GetRectCenter(gg_rct_SquadArcher1) )
    set udg_BoleanAttack = true
    call TriggerSleepAction( 160.00 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_457", GetRectCenter(gg_rct_Victory), null, "TRIGSTR_458", bj_TIMETYPE_ADD, 0, true )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Victory), 2.00 )
    call DisableTrigger( gg_trg_Squad1_Attacked )
    set udg_BoleanAttack = false
    set udg_BoleanAttack2 = true
    call GroupPointOrderLocBJ( udg_SkeletonSquad1, "attack", GetRectCenter(gg_rct_Squad2) )
    call GroupPointOrderLocBJ( udg_SkeletonArcherSquad1, "attack", GetRectCenter(gg_rct_SquadArcher2) )
    call TriggerSleepAction( 40.00 )
    call GroupPointOrderLocBJ( udg_SkeletonSquad1, "attack", GetRectCenter(gg_rct_PeasantsArea) )
    call GroupPointOrderLocBJ( udg_SkeletonArcherSquad1, "attack", GetRectCenter(gg_rct_PeasantsArea) )
endfunction

//===========================================================================
function InitTrig_Squad1Moves takes nothing returns nothing
    set gg_trg_Squad1Moves = CreateTrigger(  )
    call TriggerAddAction( gg_trg_Squad1Moves, function Trig_Squad1Moves_Actions )
endfunction

//===========================================================================
// Trigger: RunSquadAmbush
//===========================================================================
function Trig_RunSquadAmbush_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_SkeletonSquad1) <= 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_RunSquadAmbush_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_BoleanAmbush = false
    call TriggerSleepAction( 30.00 )
    call TriggerExecute( gg_trg_SkeletonAmbushSquad )
endfunction

//===========================================================================
function InitTrig_RunSquadAmbush takes nothing returns nothing
    set gg_trg_RunSquadAmbush = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_RunSquadAmbush, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_RunSquadAmbush, Condition( function Trig_RunSquadAmbush_Conditions ) )
    call TriggerAddAction( gg_trg_RunSquadAmbush, function Trig_RunSquadAmbush_Actions )
endfunction

//===========================================================================
// Trigger: SkeletonAmbushSquad
//===========================================================================
function Trig_SkeletonAmbushSquad_Func004C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[1] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_SkeletonAmbushSquad_Func005C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[2] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_SkeletonAmbushSquad_Func006C takes nothing returns boolean
    if ( not ( udg_BoleanDifculty[3] == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_SkeletonAmbushSquad_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_SquadAmbush), 2.00 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_459", GetRectCenter(gg_rct_SquadAmbush), null, "TRIGSTR_460", bj_TIMETYPE_ADD, 0, true )
    if ( Trig_SkeletonAmbushSquad_Func004C() ) then
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
    else
    endif
    if ( Trig_SkeletonAmbushSquad_Func005C() ) then
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
    else
    endif
    if ( Trig_SkeletonAmbushSquad_Func006C() ) then
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'u000', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonSquad2 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BROWN )
        call CreateNUnitsAtLoc( 1, 'n001', Player(20), GetRectCenter(gg_rct_SquadAmbush), bj_UNIT_FACING )
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_LIGHT_GRAY )
        call RemoveGuardPosition( GetLastCreatedUnit() )
        call GroupAddUnitSimple( GetLastCreatedUnit(), udg_SkeletonArcherSquad2 )
    else
    endif
    call TriggerSleepAction( 10.00 )
    call TriggerExecute( gg_trg_AmbushSquadMoves )
endfunction

//===========================================================================
function InitTrig_SkeletonAmbushSquad takes nothing returns nothing
    set gg_trg_SkeletonAmbushSquad = CreateTrigger(  )
    call TriggerAddAction( gg_trg_SkeletonAmbushSquad, function Trig_SkeletonAmbushSquad_Actions )
endfunction

//===========================================================================
// Trigger: AmbushSquadMoves
//===========================================================================
function Trig_AmbushSquadMoves_Actions takes nothing returns nothing
    call EnableTrigger( gg_trg_conditionAmbushSquad )
    set udg_BoleanAttack = false
    call GroupPointOrderLocBJ( udg_SkeletonSquad2, "attack", GetRectCenter(gg_rct_AmbushSquad1) )
    call GroupPointOrderLocBJ( udg_SkeletonArcherSquad2, "attack", GetRectCenter(gg_rct_AmbushSquad1Archers) )
    call TriggerSleepAction( 40.00 )
    set udg_BoleanAmbush = true
    call GroupPointOrderLocBJ( udg_SkeletonSquad2, "attack", GetRectCenter(gg_rct_AttackAreaAmbushSquad) )
    call GroupPointOrderLocBJ( udg_SkeletonArcherSquad2, "attack", GetRectCenter(gg_rct_AttackAreaAmbushSquad) )
endfunction

//===========================================================================
function InitTrig_AmbushSquadMoves takes nothing returns nothing
    set gg_trg_AmbushSquadMoves = CreateTrigger(  )
    call TriggerAddAction( gg_trg_AmbushSquadMoves, function Trig_AmbushSquadMoves_Actions )
endfunction

//===========================================================================
// Trigger: AmbushSquad dies
//===========================================================================
function Trig_AmbushSquad_dies_Conditions takes nothing returns boolean
    if ( not ( IsUnitInGroup(GetDyingUnit(), udg_SkeletonSquad2) == true ) ) then
        return false
    endif
    return true
endfunction

function Trig_AmbushSquad_dies_Actions takes nothing returns nothing
    call GroupRemoveUnitSimple( GetDyingUnit(), udg_SkeletonSquad2 )
endfunction

//===========================================================================
function InitTrig_AmbushSquad_dies takes nothing returns nothing
    set gg_trg_AmbushSquad_dies = CreateTrigger(  )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_AmbushSquad_dies, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_AmbushSquad_dies, Condition( function Trig_AmbushSquad_dies_Conditions ) )
    call TriggerAddAction( gg_trg_AmbushSquad_dies, function Trig_AmbushSquad_dies_Actions )
endfunction

//===========================================================================
// Trigger: conditionAmbushSquad
//===========================================================================
function Trig_conditionAmbushSquad_Conditions takes nothing returns boolean
    if ( not ( CountUnitsInGroup(udg_SkeletonSquad2) <= 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_conditionAmbushSquad_Actions takes nothing returns nothing
    call DisableTrigger( GetTriggeringTrigger() )
    set udg_BoleanAmbush = false
    call TriggerSleepAction( 10.00 )
    call TransmissionFromUnitTypeWithNameBJ( GetPlayersAll(), Player(0), 'hcth', "TRIGSTR_439", GetRectCenter(gg_rct_Victory), null, "TRIGSTR_440", bj_TIMETYPE_ADD, 0, true )
    call PingMinimapLocForForce( GetPlayersAll(), GetRectCenter(gg_rct_Victory), 3.00 )
endfunction

//===========================================================================
function InitTrig_conditionAmbushSquad takes nothing returns nothing
    set gg_trg_conditionAmbushSquad = CreateTrigger(  )
    call DisableTrigger( gg_trg_conditionAmbushSquad )
    call TriggerRegisterAnyUnitEventBJ( gg_trg_conditionAmbushSquad, EVENT_PLAYER_UNIT_DEATH )
    call TriggerAddCondition( gg_trg_conditionAmbushSquad, Condition( function Trig_conditionAmbushSquad_Conditions ) )
    call TriggerAddAction( gg_trg_conditionAmbushSquad, function Trig_conditionAmbushSquad_Actions )
endfunction

//===========================================================================
// Trigger: RandomMove
//===========================================================================
function Trig_RandomMove_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( gg_unit_n004_0037, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n003_0028, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n002_0023, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n005_0045, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n005_0044, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n005_0043, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n003_0025, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n003_0024, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n004_0032, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n004_0034, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n004_0035, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n004_0034, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
endfunction

//===========================================================================
function InitTrig_RandomMove takes nothing returns nothing
    set gg_trg_RandomMove = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_RandomMove, 1.00 )
    call TriggerAddAction( gg_trg_RandomMove, function Trig_RandomMove_Actions )
endfunction

//===========================================================================
// Trigger: RandomMove Copy
//===========================================================================
function Trig_RandomMove_Copy_Actions takes nothing returns nothing
    call IssuePointOrderLocBJ( gg_unit_n004_0037, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( gg_unit_n003_0028, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n002_0023, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n005_0045, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( gg_unit_n005_0044, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n005_0043, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n003_0025, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n003_0024, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( gg_unit_n004_0032, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n004_0034, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call TriggerSleepAction( 1.00 )
    call IssuePointOrderLocBJ( gg_unit_n004_0035, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
    call IssuePointOrderLocBJ( gg_unit_n004_0034, "move", GetRandomLocInRect(gg_rct_PeasantsArea) )
endfunction

//===========================================================================
function InitTrig_RandomMove_Copy takes nothing returns nothing
    set gg_trg_RandomMove_Copy = CreateTrigger(  )
    call TriggerRegisterTimerEventPeriodic( gg_trg_RandomMove_Copy, 20.00 )
    call TriggerAddAction( gg_trg_RandomMove_Copy, function Trig_RandomMove_Copy_Actions )
endfunction

//===========================================================================
// Trigger: SquadBridge
//===========================================================================
function Trig_SquadBridge_Actions takes nothing returns nothing
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "move", GetRectCenter(gg_rct_SkeletonRight) )
    call GroupPointOrderLocBJ( udg_SkeletonRight, "move", GetRectCenter(gg_rct_RightSkeletons) )
    call TriggerSleepAction( 10.00 )
    call GroupPointOrderLocBJ( udg_SkeletonLeft, "move", GetRectCenter(gg_rct_LeftSkeletons) )
endfunction

//===========================================================================
function InitTrig_SquadBridge takes nothing returns nothing
    set gg_trg_SquadBridge = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_SquadBridge, 8.00 )
    call TriggerAddAction( gg_trg_SquadBridge, function Trig_SquadBridge_Actions )
endfunction

//===========================================================================
// Trigger: Initializing
//===========================================================================
function Trig_Initializing_Actions takes nothing returns nothing
    call ClearMapMusicBJ(  )
    call SetMusicVolumeBJ( 0.00 )
    call SetMapMusicIndexedBJ( "music", 0 )
    call SetTimeOfDay( 9.14 )
    call UseTimeOfDayBJ( false )
    call SetAllyColorFilterState( 1 )
    call EnableMinimapFilterButtons( true, false )
    call SetPlayerName( Player(0), "TRIGSTR_215" )
    call SetPlayerName( Player(20), "TRIGSTR_216" )
    call SetPlayerName( Player(9), "TRIGSTR_217" )
    call SetPlayerAllianceStateBJ( Player(23), Player(0), bj_ALLIANCE_ALLIED_VISION )
    call SetPlayerAllianceStateBJ( Player(0), Player(23), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(20), Player(23), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(23), Player(20), bj_ALLIANCE_ALLIED )
    call SetPlayerAllianceStateBJ( Player(23), Player(9), bj_ALLIANCE_ALLIED )
    call DialogSetMessageBJ( udg_DialogLevel, "TRIGSTR_229" )
    call DialogAddButtonBJ( udg_DialogLevel, "TRIGSTR_230" )
    set udg_ButtonLevel[1] = GetLastCreatedButtonBJ()
    call DialogAddButtonBJ( udg_DialogLevel, "TRIGSTR_231" )
    set udg_ButtonLevel[2] = GetLastCreatedButtonBJ()
    call DialogAddButtonBJ( udg_DialogLevel, "TRIGSTR_232" )
    set udg_ButtonLevel[3] = GetLastCreatedButtonBJ()
    call DialogDisplayBJ( true, udg_DialogLevel, Player(0) )
    call SetUnitColor( gg_unit_n004_0037, PLAYER_COLOR_CYAN )
    call SetUnitColor( gg_unit_n005_0045, PLAYER_COLOR_CYAN )
    call SetUnitColor( gg_unit_n005_0043, PLAYER_COLOR_CYAN )
    call SetUnitColor( gg_unit_n003_0024, PLAYER_COLOR_CYAN )
    call SetUnitColor( gg_unit_n004_0032, PLAYER_COLOR_CYAN )
    call DisableTrigger( GetTriggeringTrigger() )
endfunction

//===========================================================================
function InitTrig_Initializing takes nothing returns nothing
    set gg_trg_Initializing = CreateTrigger(  )
    call TriggerRegisterTimerEventSingle( gg_trg_Initializing, 0.00 )
    call TriggerAddAction( gg_trg_Initializing, function Trig_Initializing_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarrior1
//===========================================================================
function Trig_randomcolourWarrior1_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior1_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior1_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior1_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorMiddle1), 100.00 )
    set udg_UnitWarrior1 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarrior1_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarrior1_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarrior1_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarrior1 takes nothing returns nothing
    set gg_trg_randomcolourWarrior1 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarrior1, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarrior1, function Trig_randomcolourWarrior1_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarrior2
//===========================================================================
function Trig_randomcolourWarrior2_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior2_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior2_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior2_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorMiddle2), 100.00 )
    set udg_UnitWarrior2 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarrior2_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarrior2_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarrior2_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarrior2 takes nothing returns nothing
    set gg_trg_randomcolourWarrior2 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarrior2, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarrior2, function Trig_randomcolourWarrior2_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarrior3
//===========================================================================
function Trig_randomcolourWarrior3_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior3_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior3_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior3_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorMiddle3), 100.00 )
    set udg_UnitWarrior3 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarrior3_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarrior3_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarrior3_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarrior3 takes nothing returns nothing
    set gg_trg_randomcolourWarrior3 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarrior3, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarrior3, function Trig_randomcolourWarrior3_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarrior4
//===========================================================================
function Trig_randomcolourWarrior4_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior4_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior4_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarrior4_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorMiddle4), 100.00 )
    set udg_UnitWarrior4 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarrior4_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarrior4_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarrior4_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarrior4 takes nothing returns nothing
    set gg_trg_randomcolourWarrior4 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarrior4, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarrior4, function Trig_randomcolourWarrior4_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarriorBridge1
//===========================================================================
function Trig_randomcolourWarriorBridge1_Func006C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorBridge1_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorBridge1_Func009C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorBridge1_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorBridge1), 100.00 )
    set udg_UnitWarrior5 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_WarriorsBridge )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarriorBridge1_Func006C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarriorBridge1_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarriorBridge1_Func009C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarriorBridge1 takes nothing returns nothing
    set gg_trg_randomcolourWarriorBridge1 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarriorBridge1, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarriorBridge1, function Trig_randomcolourWarriorBridge1_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarriorBridge2
//===========================================================================
function Trig_randomcolourWarriorBridge2_Func006C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorBridge2_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorBridge2_Func009C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorBridge2_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorBridge2), 100.00 )
    set udg_UnitWarrior6 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_WarriorsBridge )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarriorBridge2_Func006C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarriorBridge2_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarriorBridge2_Func009C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarriorBridge2 takes nothing returns nothing
    set gg_trg_randomcolourWarriorBridge2 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarriorBridge2, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarriorBridge2, function Trig_randomcolourWarriorBridge2_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarriorTown1
//===========================================================================
function Trig_randomcolourWarriorTown1_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown1_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown1_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown1_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorTown1), 270.00 )
    set udg_UnitWarrior7 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarriorTown1_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarriorTown1_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarriorTown1_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarriorTown1 takes nothing returns nothing
    set gg_trg_randomcolourWarriorTown1 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarriorTown1, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarriorTown1, function Trig_randomcolourWarriorTown1_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarriorTown2
//===========================================================================
function Trig_randomcolourWarriorTown2_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown2_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown2_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown2_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorTown2), 324.00 )
    set udg_UnitWarrior8 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarriorTown2_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarriorTown2_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarriorTown2_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarriorTown2 takes nothing returns nothing
    set gg_trg_randomcolourWarriorTown2 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarriorTown2, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarriorTown2, function Trig_randomcolourWarriorTown2_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarriorTown3
//===========================================================================
function Trig_randomcolourWarriorTown3_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown3_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown3_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown3_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorTown3), 350.00 )
    set udg_UnitWarrior9 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarriorTown3_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarriorTown3_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarriorTown3_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarriorTown3 takes nothing returns nothing
    set gg_trg_randomcolourWarriorTown3 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarriorTown3, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarriorTown3, function Trig_randomcolourWarriorTown3_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourWarriorTown4
//===========================================================================
function Trig_randomcolourWarriorTown4_Func005C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown4_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown4_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourWarriorTown4_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h000', Player(0), GetRectCenter(gg_rct_WarriorTown4), 36.00 )
    set udg_UnitWarrior10 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolourWarriorTown4_Func005C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_RED )
    else
    endif
    if ( Trig_randomcolourWarriorTown4_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_ORANGE )
    else
    endif
    if ( Trig_randomcolourWarriorTown4_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourWarriorTown4 takes nothing returns nothing
    set gg_trg_randomcolourWarriorTown4 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourWarriorTown4, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourWarriorTown4, function Trig_randomcolourWarriorTown4_Actions )
endfunction

//===========================================================================
// Trigger: randomcolourDwarfTown
//===========================================================================
function Trig_randomcolourDwarfTown_Func006C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourDwarfTown_Func008C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolourDwarfTown_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'h001', Player(0), GetRectCenter(gg_rct_DwarfTown), 80.00 )
    set udg_UnitDwarf1 = GetLastCreatedUnit()
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 2)
    call UnitAddItemByIdSwapped( 'I00A', udg_UnitDwarf1 )
    if ( Trig_randomcolourDwarfTown_Func006C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BLUE )
    else
    endif
    if ( Trig_randomcolourDwarfTown_Func008C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_YELLOW )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolourDwarfTown takes nothing returns nothing
    set gg_trg_randomcolourDwarfTown = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolourDwarfTown, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolourDwarfTown, function Trig_randomcolourDwarfTown_Actions )
endfunction

//===========================================================================
// Trigger: randomcolounBowmanTown1
//===========================================================================
function Trig_randomcolounBowmanTown1_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown1_Func009C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown1_Func010C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown1_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'n000', Player(0), GetRectCenter(gg_rct_ArcherTown1), 110.00 )
    set udg_UnitBowman1 = GetLastCreatedUnit()
    call UnitAddItemByIdSwapped( 'I00B', udg_UnitBowman1 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_ArcherGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolounBowmanTown1_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BLUE )
    else
    endif
    if ( Trig_randomcolounBowmanTown1_Func009C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_GREEN )
    else
    endif
    if ( Trig_randomcolounBowmanTown1_Func010C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolounBowmanTown1 takes nothing returns nothing
    set gg_trg_randomcolounBowmanTown1 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolounBowmanTown1, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolounBowmanTown1, function Trig_randomcolounBowmanTown1_Actions )
endfunction

//===========================================================================
// Trigger: randomcolounBowmanTown2
//===========================================================================
function Trig_randomcolounBowmanTown2_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown2_Func009C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown2_Func010C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown2_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'n000', Player(0), GetRectCenter(gg_rct_ArcherTown2), 150.00 )
    set udg_UnitBowman2 = GetLastCreatedUnit()
    call UnitAddItemByIdSwapped( 'I00B', udg_UnitBowman2 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_ArcherGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolounBowmanTown2_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BLUE )
    else
    endif
    if ( Trig_randomcolounBowmanTown2_Func009C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_GREEN )
    else
    endif
    if ( Trig_randomcolounBowmanTown2_Func010C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolounBowmanTown2 takes nothing returns nothing
    set gg_trg_randomcolounBowmanTown2 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolounBowmanTown2, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolounBowmanTown2, function Trig_randomcolounBowmanTown2_Actions )
endfunction

//===========================================================================
// Trigger: randomcolounBowmanTown3
//===========================================================================
function Trig_randomcolounBowmanTown3_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown3_Func009C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown3_Func010C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown3_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'n000', Player(0), GetRectCenter(gg_rct_ArcherTown3), 197.00 )
    set udg_UnitBowman3 = GetLastCreatedUnit()
    call UnitAddItemByIdSwapped( 'I00B', udg_UnitBowman3 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_ArcherGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolounBowmanTown3_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BLUE )
    else
    endif
    if ( Trig_randomcolounBowmanTown3_Func009C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_GREEN )
    else
    endif
    if ( Trig_randomcolounBowmanTown3_Func010C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolounBowmanTown3 takes nothing returns nothing
    set gg_trg_randomcolounBowmanTown3 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolounBowmanTown3, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolounBowmanTown3, function Trig_randomcolounBowmanTown3_Actions )
endfunction

//===========================================================================
// Trigger: randomcolounBowmanTown4
//===========================================================================
function Trig_randomcolounBowmanTown4_Func007C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 1 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown4_Func009C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 2 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown4_Func010C takes nothing returns boolean
    if ( not ( udg_RandomColourLight1 == 3 ) ) then
        return false
    endif
    return true
endfunction

function Trig_randomcolounBowmanTown4_Actions takes nothing returns nothing
    call CreateNUnitsAtLoc( 1, 'n000', Player(0), GetRectCenter(gg_rct_ArcherTown4), 234.00 )
    set udg_UnitBowman4 = GetLastCreatedUnit()
    call UnitAddItemByIdSwapped( 'I00B', udg_UnitBowman4 )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_LigthGroup )
    call GroupAddUnitSimple( GetLastCreatedUnit(), udg_ArcherGroup )
    set udg_RandomColourLight1 = GetRandomInt(1, 3)
    if ( Trig_randomcolounBowmanTown4_Func007C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_BLUE )
    else
    endif
    if ( Trig_randomcolounBowmanTown4_Func009C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_GREEN )
    else
    endif
    if ( Trig_randomcolounBowmanTown4_Func010C() ) then
        call SetUnitColor( GetLastCreatedUnit(), PLAYER_COLOR_PURPLE )
    else
    endif
endfunction

//===========================================================================
function InitTrig_randomcolounBowmanTown4 takes nothing returns nothing
    set gg_trg_randomcolounBowmanTown4 = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_randomcolounBowmanTown4, udg_DialogLevel )
    call TriggerAddAction( gg_trg_randomcolounBowmanTown4, function Trig_randomcolounBowmanTown4_Actions )
endfunction

//===========================================================================
// Trigger: ChooseLevel
//===========================================================================
function Trig_ChooseLevel_Func001C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_ButtonLevel[1] ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChooseLevel_Func002C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_ButtonLevel[2] ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChooseLevel_Func003C takes nothing returns boolean
    if ( not ( GetClickedButtonBJ() == udg_ButtonLevel[3] ) ) then
        return false
    endif
    return true
endfunction

function Trig_ChooseLevel_Actions takes nothing returns nothing
    if ( Trig_ChooseLevel_Func001C() ) then
        set udg_BoleanDifculty[1] = true
    else
    endif
    if ( Trig_ChooseLevel_Func002C() ) then
        set udg_BoleanDifculty[2] = true
    else
    endif
    if ( Trig_ChooseLevel_Func003C() ) then
        set udg_BoleanDifculty[3] = true
    else
    endif
endfunction

//===========================================================================
function InitTrig_ChooseLevel takes nothing returns nothing
    set gg_trg_ChooseLevel = CreateTrigger(  )
    call TriggerRegisterDialogEventBJ( gg_trg_ChooseLevel, udg_DialogLevel )
    call TriggerAddAction( gg_trg_ChooseLevel, function Trig_ChooseLevel_Actions )
endfunction

//===========================================================================
function InitCustomTriggers takes nothing returns nothing
    call InitTrig_Unit_Indexer(  )
    call InitTrig_Damage_Engine_Config(  )
    call InitTrig_Damage_Engine(  )
    call InitTrig_Acquires_a_Satchel_Charge(  )
    call InitTrig_Loses_Bounty(  )
    call InitTrig_Acquires_a_Flame_Arrow(  )
    call InitTrig_DwarfDrops(  )
    call InitTrig_BowmanDrops(  )
    call InitTrig_Cliff_Hint(  )
    call InitTrig_Bowman_enter_cliff_1(  )
    call InitTrig_Bowman_leaves_cliff_1(  )
    call InitTrig_Dwarf_enter_cliff_1(  )
    call InitTrig_Dwarf_leaves_cliff_1(  )
    call InitTrig_Dark_Bounty(  )
    call InitTrig_Warrior_bounty(  )
    call InitTrig_Dwarf_bounty(  )
    call InitTrig_Bowman_bounty1(  )
    call InitTrig_Bowman_bounty2(  )
    call InitTrig_Bowman_bounty3(  )
    call InitTrig_Bowman_bounty4(  )
    call InitTrig_RemoveItens(  )
    call InitTrig_RegionDwarf(  )
    call InitTrig_Place_Mine_Copy(  )
    call InitTrig_MineExplode(  )
    call InitTrig_Dwarf_Bash(  )
    call InitTrig_Dwarf_Dies_with_Mines(  )
    call InitTrig_SkeletonArcherDamaged(  )
    call InitTrig_SkeletonWarriorDamaged(  )
    call InitTrig_GhoulDamaged(  )
    call InitTrig_DwarfDamaged(  )
    call InitTrig_BowmanDamaged(  )
    call InitTrig_WarriorDamaged1(  )
    call InitTrig_WarriorDamaged2(  )
    call InitTrig_WarriorDamaged3(  )
    call InitTrig_WarriorDamaged4(  )
    call InitTrig_WarriorDamaged5(  )
    call InitTrig_WarriorDamaged6(  )
    call InitTrig_WarriorDamaged7(  )
    call InitTrig_WarriorDamaged8(  )
    call InitTrig_WarriorDamaged9(  )
    call InitTrig_WarriorDamaged10(  )
    call InitTrig_Flaming_Arrow_1(  )
    call InitTrig_Flaming_Arrow_2(  )
    call InitTrig_Flaming_Arrow_3(  )
    call InitTrig_Flaming_Arrow_4(  )
    call InitTrig_cam(  )
    call InitTrig_Main_Quest(  )
    call InitTrig_Optional_Quest(  )
    call InitTrig_Optional_Quest_Casualty(  )
    call InitTrig_Villager_die(  )
    call InitTrig_LightWarrior_die(  )
    call InitTrig_RightKey(  )
    call InitTrig_LeftKey(  )
    call InitTrig_Swordman(  )
    call InitTrig_Casualty(  )
    call InitTrig_PeasantsUG(  )
    call InitTrig_CasualtyVillager(  )
    call InitTrig_Cinematic(  )
    call InitTrig_SkeletonsRight(  )
    call InitTrig_SkeletonsLeft(  )
    call InitTrig_Victory(  )
    call InitTrig_Deafeat(  )
    call InitTrig_DeafeatVillage(  )
    call InitTrig_Ghoul1Group(  )
    call InitTrig_Ghoul2Group(  )
    call InitTrig_GhoulSquad1(  )
    call InitTrig_GhoulSquad12(  )
    call InitTrig_GhoulSquad1Attacks(  )
    call InitTrig_GhoulSquad21(  )
    call InitTrig_GhoulSquad1Attacks2(  )
    call InitTrig_GhoulSquad2(  )
    call InitTrig_GhoulSquad22(  )
    call InitTrig_GhoulSquad2Attacks(  )
    call InitTrig_GhoulSquad21_Copy(  )
    call InitTrig_GhoulSquad2Attacks2(  )
    call InitTrig_Squad1_Attacked(  )
    call InitTrig_BridgeAttacked_RightLeft(  )
    call InitTrig_BridgeAttacked_RightLeft_After(  )
    call InitTrig_Skeleton_Squad_Group(  )
    call InitTrig_Squad1_Dies(  )
    call InitTrig_Squad1Moves(  )
    call InitTrig_RunSquadAmbush(  )
    call InitTrig_SkeletonAmbushSquad(  )
    call InitTrig_AmbushSquadMoves(  )
    call InitTrig_AmbushSquad_dies(  )
    call InitTrig_conditionAmbushSquad(  )
    call InitTrig_RandomMove(  )
    call InitTrig_RandomMove_Copy(  )
    call InitTrig_SquadBridge(  )
    call InitTrig_Initializing(  )
    call InitTrig_randomcolourWarrior1(  )
    call InitTrig_randomcolourWarrior2(  )
    call InitTrig_randomcolourWarrior3(  )
    call InitTrig_randomcolourWarrior4(  )
    call InitTrig_randomcolourWarriorBridge1(  )
    call InitTrig_randomcolourWarriorBridge2(  )
    call InitTrig_randomcolourWarriorTown1(  )
    call InitTrig_randomcolourWarriorTown2(  )
    call InitTrig_randomcolourWarriorTown3(  )
    call InitTrig_randomcolourWarriorTown4(  )
    call InitTrig_randomcolourDwarfTown(  )
    call InitTrig_randomcolounBowmanTown1(  )
    call InitTrig_randomcolounBowmanTown2(  )
    call InitTrig_randomcolounBowmanTown3(  )
    call InitTrig_randomcolounBowmanTown4(  )
    call InitTrig_ChooseLevel(  )
endfunction

//===========================================================================
function RunInitializationTriggers takes nothing returns nothing
    call ConditionalTriggerExecute( gg_trg_Unit_Indexer )
endfunction

//***************************************************************************
//*
//*  Players
//*
//***************************************************************************

function InitCustomPlayerSlots takes nothing returns nothing

    // Player 0
    call SetPlayerStartLocation( Player(0), 0 )
    call ForcePlayerStartLocation( Player(0), 0 )
    call SetPlayerColor( Player(0), ConvertPlayerColor(0) )
    call SetPlayerRacePreference( Player(0), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(0), false )
    call SetPlayerController( Player(0), MAP_CONTROL_USER )

    // Player 9
    call SetPlayerStartLocation( Player(9), 1 )
    call ForcePlayerStartLocation( Player(9), 1 )
    call SetPlayerColor( Player(9), ConvertPlayerColor(9) )
    call SetPlayerRacePreference( Player(9), RACE_PREF_HUMAN )
    call SetPlayerRaceSelectable( Player(9), false )
    call SetPlayerController( Player(9), MAP_CONTROL_COMPUTER )

    // Player 20
    call SetPlayerStartLocation( Player(20), 2 )
    call ForcePlayerStartLocation( Player(20), 2 )
    call SetPlayerColor( Player(20), ConvertPlayerColor(20) )
    call SetPlayerRacePreference( Player(20), RACE_PREF_UNDEAD )
    call SetPlayerRaceSelectable( Player(20), false )
    call SetPlayerController( Player(20), MAP_CONTROL_COMPUTER )

endfunction

function InitCustomTeams takes nothing returns nothing
    // Force: TRIGSTR_013
    call SetPlayerTeam( Player(0), 0 )
    call SetPlayerTeam( Player(9), 0 )

    //   Allied
    call SetPlayerAllianceStateAllyBJ( Player(0), Player(9), true )
    call SetPlayerAllianceStateAllyBJ( Player(9), Player(0), true )

    //   Shared Vision
    call SetPlayerAllianceStateVisionBJ( Player(0), Player(9), true )
    call SetPlayerAllianceStateVisionBJ( Player(9), Player(0), true )

    // Force: TRIGSTR_014
    call SetPlayerTeam( Player(20), 1 )

endfunction

function InitAllyPriorities takes nothing returns nothing

    call SetEnemyStartLocPrioCount( 1, 1 )

    call SetStartLocPrioCount( 2, 2 )
    call SetStartLocPrio( 2, 0, 0, MAP_LOC_PRIO_LOW )

    call SetEnemyStartLocPrioCount( 2, 2 )
    call SetEnemyStartLocPrio( 2, 0, 0, MAP_LOC_PRIO_LOW )
endfunction

//***************************************************************************
//*
//*  Main Initialization
//*
//***************************************************************************

//===========================================================================
function main takes nothing returns nothing
    call SetCameraBounds( -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), -5632.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM), 5376.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), 5120.0 - GetCameraMargin(CAMERA_MARGIN_TOP), -5376.0 + GetCameraMargin(CAMERA_MARGIN_LEFT), 5120.0 - GetCameraMargin(CAMERA_MARGIN_TOP), 5376.0 - GetCameraMargin(CAMERA_MARGIN_RIGHT), -5632.0 + GetCameraMargin(CAMERA_MARGIN_BOTTOM) )
    call SetDayNightModels( "Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl", "Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl" )
    call NewSoundEnvironment( "Default" )
    call SetAmbientDaySound( "LordaeronSummerDay" )
    call SetAmbientNightSound( "LordaeronSummerNight" )
    call SetMapMusic( "Music", true, 0 )
    call InitSounds(  )
    call CreateRegions(  )
    call CreateCameras(  )
    call CreateAllDestructables(  )
    call CreateAllUnits(  )
    call InitBlizzard(  )
    call InitGlobals(  )
    call InitCustomTriggers(  )
    call RunInitializationTriggers(  )

endfunction

//***************************************************************************
//*
//*  Map Configuration
//*
//***************************************************************************

function config takes nothing returns nothing
    call SetMapName( "TRIGSTR_001" )
    call SetMapDescription( "TRIGSTR_003" )
    call SetPlayers( 3 )
    call SetTeams( 3 )
    call SetGamePlacement( MAP_PLACEMENT_USE_MAP_SETTINGS )

    call DefineStartLocation( 0, 2304.0, -4096.0 )
    call DefineStartLocation( 1, 3776.0, -4992.0 )
    call DefineStartLocation( 2, 4352.0, 3200.0 )

    // Player setup
    call InitCustomPlayerSlots(  )
    call InitCustomTeams(  )
    call InitAllyPriorities(  )
endfunction

